<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[mianshi-zongjie-fenxiang]]></title>
      <url>http://www.dyike.com/2016/07/27/mianshi-zongjie-fenxiang/</url>
      <content type="html"></content>
    </entry>
    
    <entry>
      <title><![CDATA[高性能JavaScript学习笔记——DOM编程]]></title>
      <url>http://www.dyike.com/2016/06/30/learn-dom-scripting-of-js/</url>
      <content type="html"><![CDATA[<p>DOM是文档对象模型，用于操作XML和HTML文档的程序接口。DOM是JavaScript编码中一个重要的部分。</p>
<h3 id="DOM的修改与访问"><a href="#DOM的修改与访问" class="headerlink" title="DOM的修改与访问"></a>DOM的修改与访问</h3><p>访问DOM元素是具有代价的，修改DOM元素的代价更大，因为它会导致浏览器重新计算页面的几何变化。</p>
<p>最快的情况就是在循环中修改或者访问元素，尤其对HTML元素结合循环操作。先看一个简单的例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">innerHTMLLoop</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> count = <span class="number">0</span>; count &lt; <span class="number">100</span> ; count++) &#123;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'here'</span>).innerHTML += <span class="string">'a'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个函数就是修改页面元素的内容，那性能问题出现在哪儿？每次循环迭代，该元素都会被访问两次：第一次是读取innerHTML的属性值，第二次就是重写它。</p>
<p>那换一种局部变量的存储方式修改其中的内容，在循环体结束之后一次性写入，是不是效率要更高效呢？</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">innerHTMLLoop2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> content = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> count = <span class="number">0</span>; count &lt; <span class="number">100</span> ; count++) &#123;</span><br><span class="line">        content += <span class="string">'a'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'here'</span>).innerHTML += content;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>很明显修改后的代码运行速度更快了。访问DOM的次数越多，代码的运行速度越慢。因此，常用的经验法则：减少访问DOM的次数，把运行尽量留在ECMAScript处理。</p>
<h3 id="innerHTML-对比-DOM方法"><a href="#innerHTML-对比-DOM方法" class="headerlink" title="innerHTML 对比 DOM方法"></a>innerHTML 对比 DOM方法</h3><p>首先带着一个问题：修改页面区域的最佳方案是用非标准但支持良好的innerHTML属性？还是只用类似document.createElement()的原声DOM方法？如果不考虑web标准，他们的性能都差不多，但是在出开最新版的webkit内核之外的浏览器中，innerHTML会更快一点。<br>这儿省略一个例子：两种方式创建一个1000行的表格。</p>
<ul>
<li>合并HTML字符，然后更新DOM的innerHTML属性。</li>
<li>只用标准的DOM方法，比如document.createElement()和document.createTextNode().</li>
</ul>
<p>最终的结果怎么样？最终选择哪种方法取决你的用户使用的浏览器以及你的编码习惯。如果你的需求是在一个对性能有着苛刻的要求操作中更新一大段HTML，推荐使用innerHTML，在大部分的浏览器中，这个运行速度都要快！</p>
<h3 id="节点克隆"><a href="#节点克隆" class="headerlink" title="节点克隆"></a>节点克隆</h3><p>使用DOM方法是更新页面的内容的另外一个途径就是克隆已有元素。就是使用element.cloneNode()(element表示已有节点)替代document.createElement().<br>看个例子吧：用element.cloneNode()生成表格。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tableClonedDOM</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i,table,thead,tbody,tr,th,td,a,ul,li,</span><br><span class="line">        oth = <span class="built_in">document</span>.createElement(<span class="string">'th'</span>),</span><br><span class="line">        otd = <span class="built_in">document</span>.createElement(<span class="string">'td'</span>),</span><br><span class="line">        otr = <span class="built_in">document</span>.createElement(<span class="string">'tr'</span>),</span><br><span class="line">        oa = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>),</span><br><span class="line">        oli = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>),</span><br><span class="line">        oul = <span class="built_in">document</span>.createElement(<span class="string">'ul'</span>);</span><br><span class="line">    tbody = <span class="built_in">document</span>.createElement(<span class="string">'tbody'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++)&#123;</span><br><span class="line">        tr = otr.cloneNode(<span class="literal">false</span>);</span><br><span class="line">        td = otd.cloneNode(<span class="literal">false</span>);</span><br><span class="line">        td.appendChild(<span class="built_in">document</span>.createTextNode((i % <span class="number">2</span>) ? <span class="string">'yes'</span> : <span class="string">'no'</span>));</span><br><span class="line">        tr.appendChild(td);</span><br><span class="line">        td = otd.cloneNode(<span class="literal">false</span>);</span><br><span class="line">        td.appendChild(<span class="built_in">document</span>.createTextNode(i));</span><br><span class="line">        tr.appendChile(td);</span><br><span class="line">        td = otd.cloneNode(<span class="literal">false</span>);</span><br><span class="line">        td.appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">'my name is #'</span> + i));</span><br><span class="line">        tr.appendChild(td);</span><br><span class="line">        <span class="comment">// ....</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ....</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="HTML集合"><a href="#HTML集合" class="headerlink" title="HTML集合"></a>HTML集合</h3><p>html集合是包含了DOM节点引用的类数组对象。以下方法就是返回值就是一个集合：</p>
<ul>
<li>document.getElementsByName()</li>
<li>document.getElementsByClassName()</li>
<li>document.getElementsByTagName()<br>下面的属性同样是返回HTML集合：</li>
<li>document.images 页面所有img元素</li>
<li>document.links 页面所有a元素</li>
<li>document.forms 页面所有表单元素</li>
<li>document.forms[0].elements 页面中第一个表单所有的字段</li>
</ul>
<h4 id="访问集合元素使用局部变量"><a href="#访问集合元素使用局部变量" class="headerlink" title="访问集合元素使用局部变量"></a>访问集合元素使用局部变量</h4><p>对于任何类型的DOM访问，需要多次访问同一个DOM属性或者方法需要多次访问，最好使用一个局部变量缓存此成员，前面文章开头也谈到了原因了。遍历一个集合是，第一个优化原则是把集合存储到局部变量中，并把length存储在循环外部，然后使用局部变量替代这些需要多次读取的元素。<br>看例子是最好的学习方法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//较慢</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">collectionGlobal</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> coll = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'div'</span>),</span><br><span class="line">        len = coll.length,</span><br><span class="line">        name = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> count = <span class="number">0</span>; count &lt; len; count++)&#123;</span><br><span class="line">        name = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'div'</span>)[count].nodeName;</span><br><span class="line">        name = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'div'</span>)[count].nodeType;</span><br><span class="line">        name = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'div'</span>)[count].tagName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//较快</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">collectionLocal</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> coll = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'div'</span>),</span><br><span class="line">        len = coll.length,</span><br><span class="line">        name = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> count = <span class="number">0</span>; count&lt;len; count++)&#123;</span><br><span class="line">        name = coll[count].nodeName;</span><br><span class="line">        name = coll[count].nodeType;</span><br><span class="line">        name = coll[count].tagName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//最快</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">collectionNodeLocal</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> coll = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'div'</span>),</span><br><span class="line">        len = coll.length,</span><br><span class="line">        name = <span class="string">''</span>,</span><br><span class="line">        el = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> count = <span class="number">0</span>; count&lt;len; count++)&#123;</span><br><span class="line">        el = coll[count];</span><br><span class="line">        name = el.nodeName;</span><br><span class="line">        name = el.nodeType;</span><br><span class="line">        name = el.tagName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="遍历DOM"><a href="#遍历DOM" class="headerlink" title="遍历DOM"></a>遍历DOM</h3><h4 id="获取DOM元素"><a href="#获取DOM元素" class="headerlink" title="获取DOM元素"></a>获取DOM元素</h4><p>有这样一个场景就是你需要从某一个DOM元素开始，操作周围的元素，或者递归查找所有子节点。可以使用childNodes得到元素集合，或者用nextSibling来获取每个相邻的元素。</p>
<p>两个等价的例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testNextSibling</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> el = <span class="built_in">document</span>.getElementById(<span class="string">'mydiv'</span>),</span><br><span class="line">        ch = el.firstChild,</span><br><span class="line">        name = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        name = ch.nodeName;</span><br><span class="line">    &#125;<span class="keyword">while</span>(ch = ch.nextSibling);</span><br><span class="line">    <span class="keyword">return</span> name;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testChildNodes</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> el = <span class="built_in">document</span>.getElementById(<span class="string">'mydiv'</span>),</span><br><span class="line">        ch = el.childNodes,</span><br><span class="line">        len = el.length,</span><br><span class="line">        name = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> count = <span class="number">0</span>; count&lt;len; count++)&#123;</span><br><span class="line">        name = ch[count].nodeName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> name;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//需要注意的是childNodes是一个元素集合，在循环体中，缓存length属性以避免在每次迭代中更新。</span></span><br></pre></td></tr></table></figure>
<h4 id="节点元素"><a href="#节点元素" class="headerlink" title="节点元素"></a>节点元素</h4><p>DOM元素属性诸如，childNodes,firstChild和nextSibling并不区分元素节点和其他类型节点，比如注释和文本节点。在某些情况下只需要访问元素节点，因此在循环中很可能需要检查返回节点类型并过滤掉非元素节点。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[高性能JavaScript的学习笔记——加载和执行]]></title>
      <url>http://www.dyike.com/2016/06/29/learn-loading-and-execution-of-js/</url>
      <content type="html"><![CDATA[<p>作为一个web开发者来说，在开发的过程需要考虑性能的问题。JavaScript在浏览器中的性能，可能就是可用性的问题，这个问题因JavaScript的阻塞特性变得复杂，说白了就是当浏览器在执行JavaScript的时候，浏览器不能同时做其他的事情。js的执行时间越长，浏览器的响应时间就会越长。&lt;script&gt;标签出现的时候，就会让页面等待脚本的解析和执行，不管JavaScript的代码是内嵌还是包含的在外链的文件中，页面的下载和渲染都必须要停下来等待脚本的执行完毕。</p>
<h3 id="脚本的位置"><a href="#脚本的位置" class="headerlink" title="脚本的位置"></a>脚本的位置</h3><p>在HTML4规范中指出&lt;script&gt;标签可以放在html文档中&lt;head&gt;或&lt;body&gt;的标签中。通常情况是这样的：&lt;script&gt;标签用来加载出现在&lt;head&gt;中外链的js文件，挨着&lt;link&gt;标签用来加载外部的css文件或其他页面元信息。</p>
<p>先看下面的一段代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>js学习例子<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"file1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"file2.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"file3.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"styles.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>你好，世界！<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>上面的代码需要注意的是：在浏览器解析到&lt;body&gt;标签之前，不会渲染页面的其他的内容。所以说把脚本放在页面的顶部会导致明显的延迟，表现出页面空白，没有内容信息。执行过程差不多就是这样的：<br><img src="https://raw.githubusercontent.com/yf92/yf92.github.io/master/images/jslearning/jslearning1.png" alt="js执行过程"></p>
<p>从上图可以清晰的看到，第一个js文件下载的同时阻塞了页面其他文件的下载，以此类推！</p>
<p>面对这样的原因，可以适当的调整js代码的位置是不是更合理呢？</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>js学习例子<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"styles.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>你好，世界！<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"file1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"file2.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"file3.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>推荐是将所有的&lt;script&gt;标签尽可能的放在&lt;body&gt;标签的底部，尽量减少对整个页面的影响。记住：优化JavaScript代码的首要规范：将代码放在底部！</p>
<p>上面谈到的原因也差不多明白，在组织脚本的时候，我们尽量减少&lt;script&gt;标签的个数，这不仅仅是针对外链，内嵌也是一样的。考虑HTTP请求会带来额外的性能开销，下载一个100kb的文件要比下载4个25kb的文件更快！这样我们就应该考虑文件的合并，可以通过离线打包工具等等，后面继续讲！</p>
<p>下面说明两种脚本：</p>
<ul>
<li>无阻塞的脚本就是，在页面加载完成后才加载JavaScript代码，专业的就是说法就是在window对象的load事件触发后再下载脚本。</li>
<li>延迟的脚本就是，在&lt;script&gt;标签中定义了一个扩展属性：defer。致命本元素所含的脚本不会修改DOM，这样代码就会安全的延迟执行。</li>
</ul>
<p>需要说明的是：目前主流的浏览器已经实现对defer属性的支持，W3C的html5规范，当且仅当src属性声明时生效。</p>
<p>还有一种无阻塞加载脚本的方法是使用XMLHttpRequest(XHR)对象获取脚本并注入页面中。先创建一个XHR对象，然后用它去下载JavaScript文件，最后通过创建动态的&lt;script&gt;元素将代码注入到页面中。代码示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">xhr.open(<span class="string">"get"</span>,<span class="string">"file1.js"</span>,<span class="literal">true</span>);</span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(xhr.readyState == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(xhr.status &gt;=<span class="number">200</span> &amp;&amp; xhr.status &lt;<span class="number">300</span> || xhr.status == <span class="number">304</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">            script.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">            script.text = xhr.responseText;</span><br><span class="line">            <span class="built_in">document</span>.body.appendChild(script);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">xhr.send(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure>
<p>发送一个GET请求获取file1.js文件。事件处理函数onreadystatechange检查readyState的状态是否为1，同时还要校验http的状态码，如果满足条件，创建一个&lt;script&gt;元素。这样做的好处就是，可以先去下载一个JavaScript代码，但可以先不去执行。但也有局限性：JavaScript文件必须与请求的页面处与相同的域，也就是说不能从CDN上下载JavaScript文件，这种方法不用于大型web应用。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[2016年，我的毕业感想]]></title>
      <url>http://www.dyike.com/2016/06/26/the-feelings-of-graduation-2016/</url>
      <content type="html"><![CDATA[<p>去年的我写了一篇文章谈了谈了自己对毕业的感想，由于去年我才大三没有真正的那种体验，唯一的感觉就是数字的冲击——2015年毕业生746万，然而今年就不一样了，自己毕业了，面临的事很多——要找工作，要租房，要自己养活自己……</p>
<p>前一段时间在微博上看到了一篇关于2016年毕业生薪酬数据的报告，我不知道这个数据的来源是不是多么的准确，但至少能说明一些问题，从数据的冲击上来看确实可以看出现在大学毕业生的就业现状——相当残酷！很庆幸的是在前100名看到了我的母校。其实对于一个刚毕业的学生来说，先是找到一份适合自己的工作，再去关注薪资，然后让自己在工作逐渐成长起来。就算给你一份很丰厚的薪资，然而你没有那个实力，你敢去吗？谁刚毕业都有一段那些能让自己难忘的经历。</p>
<p>然后我就顺着去查了一下2016年的毕业生人数，只能这样说：“2016年高校毕业生人数创历史新高——765万！”足足比去年多了19万，再加上现今的经济下行的压力相当大，各种行业都不是很景气，所以说就业压力还是很艰难的。</p>
<h3 id="选择就业"><a href="#选择就业" class="headerlink" title="选择就业"></a>选择就业</h3><p>在大学四年，能想到自己的就业问题，也差不多在大三吧。在大三的时候，大家都会有自己的目标去奋斗了，有的准备考研，有的在外面找实习就干起来，有的选择自主创业，还有选择考公、事业单位……这当中有成功也有失败，我还记得当初自己也选择了考研，考研可以说是对就业的一种短暂的逃避，是可以这样说，但不完全是！现在想想挺后悔当初的考研的决定，当初也就是在同学面前随口一说我要考研，然后就入坑了，说白了就是自己都不知道自己考研的真正目的是什么。其实后悔也是没有用的，毕竟都是自己选择的路，再怎么难走含着泪也要走完，至少那一年里，也是一种尝试一种体验。为什么说我自己后悔当初的决定的呢？在今年三月份我找到了一份比较体面的实习，在这三个月的实习里，我的感触就是三个月很充实，学到的东西很多，对自己很有帮助，性价比很高，如果去年一年我就开始去找一份实习，可能对自己的长进更有帮助，当然这过程可能会走一些弯路，但也是值得吧！</p>
<h3 id="选择行业"><a href="#选择行业" class="headerlink" title="选择行业"></a>选择行业</h3><p>这个要回到当初大学填报志愿的时候，那个时候就听说互联网IT行业比较吃香，而且赚的也比较多，所以当初在选择专业上就选择了一个跟IT有关的专业。确实是这样的，互联网这几年特别火，不管什么样的创业项目都要跟互联网挂钩就显得特别高大上，我也不明白为什么那些创业者都这样。在大学四年，从大二的时候就开始折腾互联网相关的实习参与创业团队，后来明白自己不能这样胡来，自己终究要靠手艺吃饭，大三的时候开始拾起书本搞学习准备考研，毕业之后要靠技术养活自己，带着一颗“有了技术到哪儿都有饭吃”的心态。好像折腾得并不怎么样，可能是自己的姿势不对吧，反正跟实习的经历比起来，不真正地参与到项目中的折腾都是瞎折腾。很庆幸自己选择的行业，现在也算能养活自己了，一切都慢慢来吧！与此同时，互联网行业的压力也不小，再加之自己是搞技术的，需要保持学习的热情。</p>
<h3 id="选择城市"><a href="#选择城市" class="headerlink" title="选择城市"></a>选择城市</h3><p>毕业了，大家的选择也是不一样的，有人选择回家，有人选择留下，还有人选择去别的地方。四年前，高考结束填报志愿的时候，第一选择的不是选择专业、学校，而是选择城市，在我眼里，选择城市还是挺重要的，而且当初自己的选择也没有错，自己选择到大城市，让自己的眼界变得开阔了，自己认识朋友也变多了。大城市有大城市的好处，比如就业机会多、交流接触的人群也多元化，但是大城市也有一些问题，比如住房、交通的压力，消费水平也高，虽然赚得多但消费也高。反正现在先这样吧，刚毕业要把目光放得长远一点，更应该着眼于平台而不是薪资，找一份工作能养活自己，然后让自己积累更多的经验。</p>
<h3 id="大学四年"><a href="#大学四年" class="headerlink" title="大学四年"></a>大学四年</h3><p>大学四年过的真的很快，一眨眼的功夫，四年就结束了。坦率地讲，这四年真的没有的学到什么，在大学也没指望学校能教给我什么，其实四年能学会怎么玩就行了，让自己的情商不降低就行！四年应该给你的不是你会解微分方程、会计算行列式，而是你要学会思考问题的方式，这个很重要的。。。四年结束了，我发现自己还不是很会“玩”！！！</p>
<h3 id="对即将走上工作的自己说的几句话"><a href="#对即将走上工作的自己说的几句话" class="headerlink" title="对即将走上工作的自己说的几句话"></a>对即将走上工作的自己说的几句话</h3><ul>
<li>年轻的时候应该多折腾折腾，想做的事，在考虑清楚了之后就去做，不要拖！</li>
<li>对自己接下来的工作的三年五年作一个详细计划，不能盲目地工作，那样会失去动力的，清楚自己应该做什么不应该做什么。</li>
<li>锻炼身体哟！锻炼身体哟！锻炼身体哟！身体是自己的，金钱换不回身体！</li>
<li>该认认真真诚诚恳恳地撩个妹子咯！</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[在这三个月里，我学到的那些事]]></title>
      <url>http://www.dyike.com/2016/06/23/write-after-practice/</url>
      <content type="html"><![CDATA[<p>三个月的时间过得真的很快，还记得过完年，在家过完寒假来北京第一件事就是面试，记得当初面试完的感觉真的很差，确实很差，知道自己是多么的差劲。那天下午去中关村面试，当初在理想国际八层的大厅，面我的是那个郝明，一个高高的哥儿，一听话音就是东北人了。面试整个过程也比较简单粗暴，没有想象中那样先做题，然后再问你一些乱七八糟的事情。还记得面试的前一天晚上，我还把之前自己的笔记翻了翻，看了看一些关于数据库的东西，偏偏没有面试的时候没触及到。面试就问了三个问题，也就是问那种考问题解决思路的，在我看来这就是考逻辑的东西。</p>
<p>后来，我认识的大牛，现在也算是我的师哥，过来问了我一些简单的问题，问了我常见的网络请求都有哪些？当初我也就知道get、post，还有啥也就不知道了。结果师哥一口气说了七八个，我一听那叫一脸的懵逼。</p>
<p>那天晚上回来了，我跟胡大大说了两句：“感觉今天的面试很糟糕”。后来也没说啥，只是回复了两句“你先来实习吧”、“年轻人要有信心”差不多就是这样的。等了半个月，终于在三个月前的今天，来到了sina weibo实习了，开启了我的实习生活。</p>
<p>刚来的那会儿，真的是啥也不会，都是从别人的代码中学习，第一天先被安排有人带。人带这事，其实就是让你迁出项目的代码，然后自己看看代码，有啥不懂的就问。顶多开始的时候交代一下怎么看代码。差不多这样看了两个礼拜，也就给你两礼拜，那个时候还是有点压力的，如果真的两个礼拜之后还是啥都不会的话，这张脸真的没地方放啊！这个时候也只能靠自己勤问，多动手！在大公司有一个好处就是，遇到问题可以随便问各种人，前期真的是没人觉得你是最笨的，大家都乐于帮助你，所以这个时候的脸皮真的不能薄。现在想想，脸皮厚起来，差不多就是从这个时候开始的吧。</p>
<p>说几点吧：<br>第一：我实习呆的组，版本控制用的svn，之前自己折腾的时候是git，自己也有一点git的基础，当用svn的，各种不习惯，感觉这个东西怎么这么难用，甚至有想法“为什么现在还用svn这个东西，难道就不能换git吗？”第一天就直说了，没接触过svn了。没一会儿功夫，带我的weiwei就找一篇blog链接给我，让我先学习，认认真真看完顶多一个小时，再稍微理解一下操作一下，差不多两个小时，后来发现这个东西不是很难，而且跟git也有很多相似的，所以说用起来更不是什么难事。就一个感想：稍微耐点心，认真一下，没有什么很难的。<br>第二：关于工具的使用，选择一个适合自己的工具真的特别重要，常说工欲善其事必先利其器，差不多就是这个道理吧，之前没有什么实战的项目，即便有点，也都是野路子，可以说不规范，从这个时候我也逐渐开始规范自己。比如编辑器的配置使用、网络请求的调试工具等等，有了前人的知道，这些都让我在今后的开发之路少走了一些弯路。成长或许就是这样一点一点地积累起来的。</p>
<p>实习完全是看自己，因为这段时间有很多时间是属于自己。差不多实习快一个月的时候，需求不是很多，确实有很多时间是空闲，这个时候就开始忙于自己的毕设。毕设的项目就是基于laravel开发的在线学习的平台。之前也没有接触过laravel框架，可能环境配置，安装laravel就让我卡住了一段时间。虽然有师哥，但师哥好像还挺严厉的，每每咨询的时候，都会先说“你的问题是什么”然后再抛出一句“请看文档”。现在毕设都已经做完，回想这些事，都是非常在理的。说实话，自己的毕设做了差不多有两个礼拜吧，那段时间里，自己文档真的看得不是很仔细，为什么这么说呢？因为我的问题在文档里都有过解释说明。后来我总结的原因是，看文档的时候一定要动手试试里面的例子。这个很重要，有的东西过一遍大脑，过两天就可能忘了。反正在毕设的路上，师哥帮忙解决了几个坑，其次就是跟我苦口婆心的说了n遍的“看文档”。【写到这里，万一师哥看到了，会怎样呢？】</p>
<p>接触最重要的一个项目就是项目sla了，这个我最熟练的应该是前台部分，后台的那个现在还不是很熟练。这个环节，搞得最多的就是写接口了。然后是前端用js处理渲染，这里，这里，这里，我有一个硬伤，这个过程写js真的写很痛苦，主要是自己的真的还不是很熟悉js，自己写的那点东西，我自己都看不下去了。现如今一直在补，还有关于php代码的事，这里有一个我自己不知道是好还是不好的东西：由于项目比较庞大，有一些业务处理是相似的，然后我在我开发的过程中总结了一部分，就一言不合封装函数。后来也发一个问题，过了两个周自己再去看的时候似乎又有点看不懂自己当初是怎么写的，不知道我这样是好还是不好。关于php数组处理的，我还特地整理了一篇文章，今后需要多消化学习。</p>
<p>今后要做的事，以及对自己的规划：<br>第一：学习跟产品沟通好，首先知道是干什么的，需要把话想清楚说清楚，这样跟产品沟通起来才会顺利。这是今后工作中必不可少的一关。<br>第二：继续巩固php的基础知识，常用的两百多个函数一定要做到滚瓜烂熟，知道参数的意义。【听说有的时候面试，就奇葩的问，某某函数的第二个参数是干嘛的，能不能去掉】、【还有有的时候参数的顺序不同，然后出现的结果就不一样了，自己还找不出原因】<br>第三：学好C语言吧，基础！<br>第四：查漏补缺，比如js的学习，http协议、tcp/Ip协议的详解，还有就是linux的操作<br>第五：有事没事多学习，多写blog，然后专注撩(专)妹！！！</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PHP数组的“合并相加”]]></title>
      <url>http://www.dyike.com/2016/06/08/php-array-combine-with-array/</url>
      <content type="html"><![CDATA[<blockquote>
<p>情况大概是这样的，一个刚入门PHP程序狗，某天接到了一个需求，需要从两个表里获取数据，这两张表的字段是相同的，但记录的类型不同，现在需要将两个类型合并了，不建新表。大概就是把相同字段值的记录中其他某个字段值相加这个意思(可能说的不清楚看下面的例子就知道是什么意思了)。当时第一个反应就是写sql语句，拼啊拼，也不是不行，写了一个sql语句，等了n分钟重要出结果，要是这样就上线了，那不得被吊起来打。可能还是自己的原因，自己数据库学得特别烂，不会写sql语句，只能在原有的程序上，照葫芦画瓢儿，各自从每个表中去取数据，然后处理数组。也不知道这样是不是可行的。</p>
</blockquote>
<h3 id="情形一：先来一个简单的相加，很简单的"><a href="#情形一：先来一个简单的相加，很简单的" class="headerlink" title="情形一：先来一个简单的相加，很简单的"></a>情形一：先来一个简单的相加，很简单的</h3><p>数组1:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    <span class="string">'0'</span> =&gt; <span class="number">20</span>,</span><br><span class="line">    <span class="string">'1'</span> =&gt; <span class="number">10</span>,</span><br><span class="line">    <span class="string">'2'</span> =&gt; <span class="number">23</span>,</span><br><span class="line">    <span class="string">'3'</span> =&gt; <span class="number">12</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>数组2：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    <span class="string">'0'</span> =&gt; <span class="number">10</span>,</span><br><span class="line">    <span class="string">'1'</span> =&gt; <span class="number">5</span>,</span><br><span class="line">    <span class="string">'2'</span> =&gt; <span class="number">12</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>应该得到的结果是：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    <span class="string">'0'</span> =&gt; <span class="number">30</span>,</span><br><span class="line">    <span class="string">'1'</span> =&gt; <span class="number">15</span>,</span><br><span class="line">    <span class="string">'2'</span> =&gt; <span class="number">35</span>,</span><br><span class="line">    <span class="string">'3'</span> =&gt; <span class="number">12</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>处理函数如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_add</span><span class="params">($arr1,$arr2)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="comment">//根据键名获取两个数组的交集</span></span><br><span class="line">    $arr=array_intersect_key($arr1, $arr2);</span><br><span class="line">    <span class="comment">//遍历第二个数组，如果键名不存在与第一个数组，将数组元素增加到第一个数组</span></span><br><span class="line">    <span class="keyword">foreach</span>($arr2 <span class="keyword">as</span> $key =&gt; $value)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!array_key_exists($key, $arr1))&#123;</span><br><span class="line">            $arr1[$key] = $value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//计算键名相同的数组元素的和，并且替换原数组中相同键名所对应的元素值</span></span><br><span class="line">    <span class="keyword">foreach</span>($arr <span class="keyword">as</span> $key =&gt; $value)&#123;</span><br><span class="line">        $arr1[$key] = $arr1[$key] + $arr2[$key];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//返回相加后的数组</span></span><br><span class="line">    <span class="keyword">return</span> $arr1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="情形二：比如有有两个数组"><a href="#情形二：比如有有两个数组" class="headerlink" title="情形二：比如有有两个数组"></a>情形二：比如有有两个数组</h3><p>数组1:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span></span><br><span class="line">(</span><br><span class="line">    <span class="string">'0'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">0</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">10</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'1'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">1</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">20</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'2'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">2</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">15</span></span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>数组2:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span>(</span><br><span class="line">    <span class="string">'0'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">0</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">8</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'1'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">1</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">12</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'2'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">2</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">14</span></span><br><span class="line">    )，</span><br><span class="line">    <span class="string">'3'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">3</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">11</span></span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>按照要求后，需要得到结果是：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span>(</span><br><span class="line">    <span class="string">'0'</span>=&gt;<span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">0</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">18</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'1'</span>=&gt;<span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">1</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">32</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'2'</span>=&gt;<span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">2</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">29</span></span><br><span class="line">    )，</span><br><span class="line">    <span class="string">'3'</span>=&gt;<span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">3</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">11</span></span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>处理函数：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">arrayAddArray</span><span class="params">($res1,$res2,$key1,$key2)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    $re0 = array_merge($res1,$res2);</span><br><span class="line">    $tmp = <span class="keyword">array</span>();</span><br><span class="line">    <span class="keyword">foreach</span>($re0 <span class="keyword">as</span> $k =&gt; $v)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">isset</span>($tmp[$v[$key1]]) ? $tmp[$v[$key1]] += $v[$key2] : $tmp[$v[$key1]] = $v[$key2];</span><br><span class="line">    &#125;</span><br><span class="line">    $result = <span class="keyword">array</span>();</span><br><span class="line">    <span class="keyword">foreach</span>($tmp <span class="keyword">as</span> $k =&gt; $v)&#123;</span><br><span class="line">        $result[] = <span class="keyword">array</span>($key1=&gt;$k,$key2=&gt;$v);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="情形三：处理两个数组"><a href="#情形三：处理两个数组" class="headerlink" title="情形三：处理两个数组"></a>情形三：处理两个数组</h3><p>数组1:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span></span><br><span class="line">(</span><br><span class="line">    <span class="string">'0'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">0</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">10</span>,</span><br><span class="line">        <span class="string">'ttt'</span>=&gt;<span class="number">0.1</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'1'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">1</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">20</span>,</span><br><span class="line">        <span class="string">'ttt'</span>=&gt;<span class="number">0.2</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'2'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">2</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">15</span>,</span><br><span class="line">        <span class="string">'ttt'</span>=&gt;<span class="number">0.12</span></span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>数组2:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span></span><br><span class="line">(</span><br><span class="line">    <span class="string">'0'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">0</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">8</span>,</span><br><span class="line">        <span class="string">'ttt'</span>=&gt;<span class="number">0.1</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'1'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">1</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">12</span>,</span><br><span class="line">        <span class="string">'ttt'</span>=&gt;<span class="number">0.12</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'2'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">2</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">14</span>,</span><br><span class="line">        <span class="string">'ttt'</span>=&gt;<span class="number">0.2</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'3'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">3</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">11</span>,</span><br><span class="line">        <span class="string">'ttt'</span>=&gt;<span class="number">0.12</span></span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>按照要求后，需要得到结果是：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span></span><br><span class="line">(</span><br><span class="line">    <span class="string">'0'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">0</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">18</span>,</span><br><span class="line">        <span class="string">'ttt'</span>=&gt;<span class="number">0.2</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'1'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">1</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">32</span>,</span><br><span class="line">        <span class="string">'ttt'</span>=&gt;<span class="number">0.32</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'2'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">2</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">29</span>,</span><br><span class="line">        <span class="string">'ttt'</span>=&gt;<span class="number">0.32</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'3'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">3</span>,</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">11</span>,</span><br><span class="line">        <span class="string">'ttt'</span>=&gt;<span class="number">0.12</span></span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>处理函数：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//里面的每个数组有三个键名，两个二维数组合并相加不再添加新的键名</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">arrayAdd3ArrayWithoutNewKey</span><span class="params">($re1,$re2,$key1,$key2,$key3)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    $res1 = arrayAddArray($re1, $re2, $key1, $key2);<span class="comment">//先将$key2键名对应的值相加,用到上面的函数。</span></span><br><span class="line">    $res2 = arrayAddArray($re1, $re2, $key1, $key3); <span class="comment">//将$key3键名对应的值相加</span></span><br><span class="line">    $res = array_merge($res1, $res2);</span><br><span class="line">    $tmp = <span class="keyword">array</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span> ($res <span class="keyword">as</span> $v) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">isset</span>($tmp[$v[$key1]])) &#123;</span><br><span class="line">            <span class="keyword">empty</span>($tmp[$v[$key1]][$key2]) &amp;&amp; $tmp[$v[$key1]][$key2] = <span class="keyword">isset</span>($v[$key2]) ? $v[$key2] : <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">empty</span>($tmp[$v[$key1]][$key3]) &amp;&amp; $tmp[$v[$key1]][$key3] = <span class="keyword">isset</span>($v[$key3]) ? $v[$key3] : <span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $tmp[$v[$key1]] = <span class="keyword">array</span>(</span><br><span class="line">                $key1 =&gt; $v[$key1],</span><br><span class="line">                $key2 =&gt; <span class="keyword">isset</span>($v[$key2]) ? $v[$key2] : <span class="number">0</span>,</span><br><span class="line">                $key3 =&gt; <span class="keyword">isset</span>($v[$key3]) ? $v[$key3] : <span class="number">0</span>,</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="情形四-还是两个二维数组需要合并相加，可能现在是这样的-需要增加一个键计算新的值："><a href="#情形四-还是两个二维数组需要合并相加，可能现在是这样的-需要增加一个键计算新的值：" class="headerlink" title="情形四:还是两个二维数组需要合并相加，可能现在是这样的,需要增加一个键计算新的值："></a>情形四:还是两个二维数组需要合并相加，可能现在是这样的,需要增加一个键计算新的值：</h3><p>数组1:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span></span><br><span class="line">(</span><br><span class="line">    <span class="string">'0'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">0</span>,</span><br><span class="line">        <span class="string">'hits1'</span>=&gt;<span class="number">10</span>,</span><br><span class="line">        <span class="string">'hits2'</span>=&gt;<span class="number">15</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'1'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">1</span>,</span><br><span class="line">        <span class="string">'hits1'</span>=&gt;<span class="number">20</span>,</span><br><span class="line">        <span class="string">'hits2'</span>=&gt;<span class="number">12</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'2'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">2</span>,</span><br><span class="line">        <span class="string">'hits1'</span>=&gt;<span class="number">15</span>,</span><br><span class="line">        <span class="string">'hits2'</span>=&gt;<span class="number">18</span></span><br><span class="line">    )           </span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>数组2:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span></span><br><span class="line">(</span><br><span class="line">    <span class="string">'0'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">0</span>,</span><br><span class="line">        <span class="string">'hits1'</span>=&gt;<span class="number">8</span>,</span><br><span class="line">        <span class="string">'hits2'</span>=&gt;<span class="number">12</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'1'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">1</span>,</span><br><span class="line">        <span class="string">'hits1'</span>=&gt;<span class="number">12</span>,</span><br><span class="line">        <span class="string">'hits2'</span>=&gt;<span class="number">22</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'2'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">2</span>,</span><br><span class="line">        <span class="string">'hits1'</span>=&gt;<span class="number">14</span>,</span><br><span class="line">        <span class="string">'hits2'</span>=&gt;<span class="number">12</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'3'</span>=&gt;<span class="keyword">array</span></span><br><span class="line">    (</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">3</span>,</span><br><span class="line">        <span class="string">'hits1'</span>=&gt;<span class="number">11</span>,</span><br><span class="line">        <span class="string">'hits2'</span>=&gt;<span class="number">10</span></span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>按照要求后，需要得到结果是：(原先rate比率是在sql语句中就算好的，现在要得到正确的比率，就得先将’hits1’相加，’hits2’相加，相加完了再计算)</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span></span><br><span class="line">(</span><br><span class="line">    <span class="string">'0'</span> =&gt; <span class="keyword">array</span></span><br><span class="line">        (</span><br><span class="line">            <span class="string">'type'</span>=&gt;<span class="number">0</span></span><br><span class="line">            <span class="string">'hits1'</span>=&gt;<span class="number">18</span></span><br><span class="line">            <span class="string">'hits2'</span>=&gt;<span class="number">27</span></span><br><span class="line">            <span class="string">'rate'</span>=&gt;<span class="number">0.67</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="string">'1'</span> =&gt; <span class="keyword">array</span></span><br><span class="line">        (</span><br><span class="line">            <span class="string">'type'</span>=&gt;<span class="number">1</span></span><br><span class="line">            <span class="string">'hits1'</span>=&gt;<span class="number">32</span></span><br><span class="line">            <span class="string">'hits2'</span>=&gt;<span class="number">34</span></span><br><span class="line">            <span class="string">'rate'</span>=&gt;<span class="number">0.94</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="string">'2'</span> =&gt; <span class="keyword">array</span></span><br><span class="line">        (</span><br><span class="line">            <span class="string">'type'</span>=&gt;<span class="number">2</span></span><br><span class="line">            <span class="string">'hits1'</span>=&gt;<span class="number">29</span></span><br><span class="line">            <span class="string">'hits2'</span>=&gt;<span class="number">30</span></span><br><span class="line">            <span class="string">'rate'</span>=&gt;<span class="number">0.97</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="string">'3'</span> =&gt; <span class="keyword">array</span></span><br><span class="line">        (</span><br><span class="line">            <span class="string">'type'</span>=&gt;<span class="number">3</span></span><br><span class="line">            <span class="string">'hits1'</span>=&gt;<span class="number">5</span></span><br><span class="line">            <span class="string">'hits2'</span>=&gt;<span class="number">10</span></span><br><span class="line">            <span class="string">'rate'</span>=&gt;<span class="number">0.50</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>处理函数：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">arrayAdd3Array</span><span class="params">($re1,$re2,$key1,$key2,$key3,$key4)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    $res1 = arrayAddArray($re1, $re2, $key1, $key2);</span><br><span class="line">    $res2 = arrayAddArray($re1, $re2, $key1, $key3);</span><br><span class="line"></span><br><span class="line">    $res = array_merge($res1, $res2);</span><br><span class="line">    $tmp = <span class="keyword">array</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span> ($res <span class="keyword">as</span> $v) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">isset</span>($tmp[$v[$key1]])) &#123;</span><br><span class="line">            <span class="keyword">empty</span>($tmp[$v[$key1]][$key2]) &amp;&amp; $tmp[$v[$key1]][$key2] = <span class="keyword">isset</span>($v[$key2]) ? $v[$key2] : <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">empty</span>($tmp[$v[$key1]][$key3]) &amp;&amp; $tmp[$v[$key1]][$key3] = <span class="keyword">isset</span>($v[$key3]) ? $v[$key3] : <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(!<span class="keyword">empty</span>($tmp[$v[$key1]][$key2]) &amp;&amp; !<span class="keyword">empty</span>($tmp[$v[$key1]][$key3]))&#123;</span><br><span class="line">                $tmp[$v[$key1]][$key4] = $tmp[$v[$key1]][$key2]/$tmp[$v[$key1]][$key3];  <span class="comment">//计算新添加的键值</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $tmp[$v[$key1]] = <span class="keyword">array</span>(</span><br><span class="line">                $key1 =&gt; $v[$key1],</span><br><span class="line">                $key2 =&gt; <span class="keyword">isset</span>($v[$key2]) ? $v[$key2] : <span class="number">0</span>,</span><br><span class="line">                $key3 =&gt; <span class="keyword">isset</span>($v[$key3]) ? $v[$key3] : <span class="number">0</span>,</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="情形五：变着花样玩，现在是根据两个键判断然后在合并"><a href="#情形五：变着花样玩，现在是根据两个键判断然后在合并" class="headerlink" title="情形五：变着花样玩，现在是根据两个键判断然后在合并"></a>情形五：变着花样玩，现在是根据两个键判断然后在合并</h3><p>数组一：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span>(</span><br><span class="line">    <span class="string">'0'</span>=&gt;<span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">0</span>,</span><br><span class="line">        <span class="string">'num'</span>=&gt;<span class="string">'500'</span>，</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">12</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'1'</span>=&gt;<span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">1</span>,</span><br><span class="line">        <span class="string">'num'</span>=&gt;<span class="string">'502'</span>，</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">30</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'2'</span>=&gt;<span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">2</span>,</span><br><span class="line">        <span class="string">'num'</span>=&gt;<span class="string">'404'</span>，</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">10</span></span><br><span class="line">    )，</span><br><span class="line">    <span class="string">'3'</span>=&gt;<span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">3</span>,</span><br><span class="line">        <span class="string">'num'</span>=&gt;<span class="string">'400'</span>，</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">14</span></span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>数组二：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span>(</span><br><span class="line">    <span class="string">'0'</span>=&gt;<span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">0</span>,</span><br><span class="line">        <span class="string">'num'</span>=&gt;<span class="string">'500'</span>，</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">15</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'1'</span>=&gt;<span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">1</span>,</span><br><span class="line">        <span class="string">'num'</span>=&gt;<span class="string">'502'</span>，</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">4</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'2'</span>=&gt;<span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">2</span>,</span><br><span class="line">        <span class="string">'num'</span>=&gt;<span class="string">'404'</span>，</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">20</span></span><br><span class="line">    )，</span><br><span class="line">    <span class="string">'3'</span>=&gt;<span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">3</span>,</span><br><span class="line">        <span class="string">'num'</span>=&gt;<span class="string">'400'</span>，</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">14</span></span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>应该得到的结果：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span>(</span><br><span class="line">    <span class="string">'0'</span>=&gt;<span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">0</span>,</span><br><span class="line">        <span class="string">'num'</span>=&gt;<span class="string">'500'</span>，</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">27</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'1'</span>=&gt;<span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">1</span>,</span><br><span class="line">        <span class="string">'num'</span>=&gt;<span class="string">'502'</span>，</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">34</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="string">'2'</span>=&gt;<span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">2</span>,</span><br><span class="line">        <span class="string">'num'</span>=&gt;<span class="string">'404'</span>，</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">30</span></span><br><span class="line">    )，</span><br><span class="line">    <span class="string">'3'</span>=&gt;<span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'type'</span>=&gt;<span class="number">3</span>,</span><br><span class="line">        <span class="string">'num'</span>=&gt;<span class="string">'400'</span>，</span><br><span class="line">        <span class="string">'hits'</span>=&gt;<span class="number">28</span></span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>处理函数：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">arrayAddArrayByTwoKeys</span><span class="params">($re1,$re2,$key1,$key2,$key3)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    $tmp = <span class="keyword">array</span>();</span><br><span class="line">    <span class="keyword">foreach</span> ($re1 <span class="keyword">as</span> $v1) &#123;</span><br><span class="line">        $tmp[$v1[$key1]][$v1[$key2]] = $v1[$key3];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span>($re2 <span class="keyword">as</span> $v2) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">isset</span>($tmp[$v2[$key1]][$v2[$key2]])) &#123;</span><br><span class="line">            $tmp[$v2[$key1]][$v2[$key2]] += $v2[$key3];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span>($tmp <span class="keyword">as</span> $kk =&gt; $vv)&#123;</span><br><span class="line">        $n = count($vv);</span><br><span class="line">        $k = array_keys($vv);</span><br><span class="line">        $v = array_values($vv);</span><br><span class="line">        <span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;$n;$i++)&#123;</span><br><span class="line">            $result[] = <span class="keyword">array</span>(</span><br><span class="line">                $key1=&gt;$kk,</span><br><span class="line">                $key2=&gt;$k[$i],</span><br><span class="line">                $key3=&gt;$v[$i],</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>差不多就是这几个情形比较多吧，第一次就这么处理了数组，给我留下深深地印象。主要自己把玩数组不是很溜，不管了，先记录一点吧。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[将数组转换成字符串]]></title>
      <url>http://www.dyike.com/2016/04/28/array-to-string/</url>
      <content type="html"><![CDATA[<hr>
<p>##一个简单的方法：将一个二维的数组转换成字符串</p>
<p>常常出现这样一种情况，sql语句查询出来的结果是一个二维数组，但是查询的结果还是需要用到下一条查询语句，这个时候可能需要将一个二维数组转换成字符串用于sql语句的查询。<br>下面是一个简单的例子：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">arr2str</span> <span class="params">($arr)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">foreach</span> ($arr <span class="keyword">as</span> $v)</span><br><span class="line">    &#123;</span><br><span class="line">        $v = join(<span class="string">","</span>,$v); <span class="comment">//可以用implode将一维数组转换为用逗号连接的字符串</span></span><br><span class="line">        $temp[] = $v;</span><br><span class="line">    &#125;</span><br><span class="line">    $t=<span class="string">""</span>;</span><br><span class="line">    <span class="keyword">foreach</span>($temp <span class="keyword">as</span> $v)&#123;</span><br><span class="line">        $t.=<span class="string">"'"</span>.$v.<span class="string">"'"</span>.<span class="string">","</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    $t=substr($t,<span class="number">0</span>,<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">return</span> $t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[解决ssh的连接中断的问题"']]></title>
      <url>http://www.dyike.com/2016/03/08/solve-ssh-broken-connection/</url>
      <content type="html"><![CDATA[<p><strong>问题场景</strong></p>
<p>服务器环境：阿里云 Linux CentOS 主机</p>
<p>客户端：Mac OSX Terminal</p>
<p><strong>问题现象</strong></p>
<p>用 ssh 命令连接服务器之后，如果一段时间不操作，再次进入 Terminal 时会有一段时间没有响应，然后就出现错误提示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Write failed: Broken pipe</span><br></pre></td></tr></table></figure>
<p>只能重新用 ssh 命令进行连接。</p>
<p><strong>解决方法</strong></p>
<p>方法一：如果您有多台服务器，不想在每台服务器上设置，只需在客户端的 ~/.ssh/ 文件夹中添加 config 文件，并添加下面的配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ServerAliveInterval 60</span><br></pre></td></tr></table></figure>
<p>方法二：如果您有多个人管理服务器，不想在每个客户端进行设置，只需在服务器的 /etc/ssh/sshd_config 中添加如下的配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ClientAliveInterval 60</span><br></pre></td></tr></table></figure>
<p>方法三：如果您只想让当前的 ssh 保持连接，可以使用以下的命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -o ServerAliveInterval=60 user@sshserver</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[php7编译出现的问题]]></title>
      <url>http://www.dyike.com/2016/01/02/php7-compile-err/</url>
      <content type="html"><![CDATA[<p>在编译安装php7时日志中有如下错误记录：<br>virtual memory exhausted: Cannot allocate memory<br>make: <em>*</em> [ext/fileinfo/libmagic/apprentice.lo] Error 1</p>
<p>开始时的解决方法是先将很多的进程关闭，比如httpd、ftpd、sendmail等等，释放出了一部分内存后，再进行编译，仍然得到同样的编译错误。后来百度谷歌了很久才找到解决问题的方法，而且是在php.net上找到的解决方法，原文链接是：https:  //bugs.php.net/bug.php?id=48809</p>
<p>根据这个文章的方法将php安装配置文件中加了引号中的配置（不包括引号）“- -disable-fileinfo”后终于编译通过。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[2015年我的总结]]></title>
      <url>http://www.dyike.com/2015/12/30/think-about-2015/</url>
      <content type="html"><![CDATA[<p>写这个的时候是自己刚刚参加完研究生考试，说实话心里真的是一万个草泥马，这题也太难了，比去年的还要难。后来想想也不对，要难大家一起难嘛。再后来又听说了今年考研有政治英语泄题的事件，心里又开始不平衡了。哎，自己活得太真实……</p>
<p>大概从什么时候开始喜欢写年度总结，这样说的话还是在上了大学之后，学了这个专业，好像就有了这个习惯，其实写文章让人记录很多事情，生活、工作、学习等等。就好像年末了这几天我就把自己机器的开发环境升级到php7，之前配置开发环境的时候，就是因为当初懒，没有记录当初踩的坑，这次也遇到了就是想不起上次怎么解决的，所以导致最后还要谷歌，重新再来一遍，这里面真的浪费很多时间。</p>
<p>准确的说我是从什么时候有这个时间概念的，还是大二的时候，那时认识了一个名叫勾英达的小鲜肉，有一次一起在中关村那里吃饭，回去的路上，他一直计算着时间，说出来走到北大校门需要五分钟……其实这个算是一个小小的细节吧，后来我也意识到自己平时也不太注意时间这个概念，久而久之就能看出自己有拖延症的毛病。拖泥带水差不多就是这样形成。</p>
<p>谈起2015年的计划，我打开的轻单账户，看到自己在2015年年初的写过一个list，也就只列了8条，现在对比起来一个都没有做成，想想是不是很可怕呢？也未必，这一年真的不一样，那个时候还没有做出一个决定——考研。所以导致年初的制定的计划后面六条一个都没有做成【前两个做了，没有做成功】想想都要流泪。这一年跨度大三大四，这种感觉真的不一样，感觉自己在变化，在成长。年初开学的时候，回到学校，发现了很多很多人在说考研这个事，以为他们是说着玩，当初自己也就是随口说了一嘴“我也要考”，好像记得当初学校做了一个调查，我当时还填了一个“工作”的意愿。没有过多少天发现他们不是说着玩的，后来自己也就落实了自己所说的上面，言出必行嘛【其实我一直是不看好考研这个，更何况自己是想干互联网的，所以好多需要到实践中积累，后来很多人问我“你不是不看好考研的嘛你为嘛还要考研，如果你还这样问的吧，你就自己揣摩吧，答案就在这里】。</p>
<h2 id="关于学习"><a href="#关于学习" class="headerlink" title="关于学习"></a><strong>关于学习</strong></h2><p>这一年学习应该是最有好多想说的了，从决定考研的时候，应该可以说每天坚持学习，至于学习的效率，我真对自己有点呵呵了，发现学习最大的干扰就是手机了，后来临近考试的时候，自己也意识到这个问题，所以每天强迫自己不带手机就去图书馆，这样也确实看到了效果，至少在图书馆的时间能够充分利用到90%，这样一算的话，一天从早上八点考试学习，到晚上九点半，一共13.5小时，再除去中午晚上吃法加休息的3个小时，一天怎么也会有十个小时。哎，早知道这样坚持的话，应该肯定能考上了。说多了都是泪。</p>
<p>学习还是要制定个一个计划，有的时候真的需要逼自己一把，只有自己逼自己，别人逼的话都是虚无缥缈的东西。还记得，四月份的时候，自己想要学习那个php开发一个电商网站，当初就只想用一个月的时间，把慕课网上的视频教程看完，给自己制定了一个计划：每天坚持一个小时学习视频，对着视频教程撸码，后来发现，真正投入的时候，自己花费上面的时间远远超过一个小时，一个月下来自己的收获真是满满的。有计划的学习，算是我的一个学习方法，后来我也用考研过程中数学和专业课的复习，虽然真的很难，用这样的方法去学习，至少不会让自己变的内心后怕，因为这样做会使得自己有条不紊地进行。</p>
<p>其次就是学习技巧了，你每天有大把大把的时间逛各种社交网站，刷微博刷朋友圈，刷微博刷朋友圈确实能让自己得到稍微的放松，缓解自己的压力。朋友圈有各种这样的文章的分享，平时看到是鸡汤的文章我都是99.9%的跳过，自己就是自己的灵魂工程师，还需要看鸡汤，嘿嘿。对于分享的技术的文章，能看懂的当然看完，看不懂的文章会收藏起来【好的文章更要收藏了】，同时加上标签，以便以后看到查找。【注：这些功能都是微信最基本的功能，善于用起来对自己真的很有帮助】微博里也是差不多这样，现在微博里基本都是关注对自己有用的同行业的人，对他们同样进行了分组，更好的管理他们输出的价值，看到好的技术文章同样会star收藏。还有就是善于使用微博的搜索功能，虽然做得不是很好，至少这个东西能让你精准找到你遇到“坑”的原因，一般情况微博搜索能让我找到答案。【这个功能微信里面也有，关键字搜索能查到自己想要的东西。】还有微博的微盘也是很不错的，反正能找到对我有用的东西。最后想说的，<strong>其他东西，真的不要百度不要百度不要百度！！！谷歌哟谷歌哟谷歌哟！！！</strong></p>
<p>最后，多写博客，这一年自己没有怎么写博客，个人觉得写博客能让自己有提升，因为自己学习的时候喜欢看别人的博客，或许我能绕开别人踩过的坑。嘿嘿。自己有所思有所想的时候就应该记录下来。反正这样对自己没有什么坏处。还有写博客算是一种价值输出吧，可能你踩过的坑对别人来说就是一点帮助吧。</p>
<h2 id="关于身体锻炼"><a href="#关于身体锻炼" class="headerlink" title="关于身体锻炼"></a><strong>关于身体锻炼</strong></h2><p>身体是自己的，自己要懂得珍惜，锻炼身体更需坚持。这一年，自己做得不够好，坚持锻炼也就4月份坚持了整整一个月的跑步，后来都断断续续的了。不要给自己找借口，锻炼身体都能坚持得下来。</p>
<h2 id="关于坚持和专注"><a href="#关于坚持和专注" class="headerlink" title="关于坚持和专注"></a><strong>关于坚持和专注</strong></h2><p>以前常被人说我是一个没有专注的人，做事没有三分钟的热度。今年这一年考研坐冷板凳的磨练，让我更懂得什么是坚持，什么叫专注。我坚持了到最后，我坚持从每天早上7点起床到后来6点半起床再到6点起床学习到，晚上也从9点回寝到9点回寝再到10点半回寝，我能做了这些，这些并不算心酸，至少我能坚持下来，其实别人也能坚持下来。其实这个没有神么，就是在于自己的实践，不是嘴皮子功夫，落实到行动才是关键。</p>
<p>至于专注，怎么说，如果能找到自己的兴趣点，自己自然会去专注。像谈恋爱也应该要这样吧，专注的人才是更加迷人。真正知道专注我也是在大三的时候知道自己将来毕业了想在哪个行业混准备做什么。大学四年快要结束了，现在想来唯一的遗憾：在这样艺术气息浓厚的校园，我没有用大一大二大三的时间折腾点设计方面的东西，现在意识到这一点，或许有点晚，或许一点也不晚。</p>
<hr>
<p>2015年的小失败：在9月份的时候参加腾讯的校招，当初笔试真的很糟糕。清晰地记得吃了算法的亏。后来连百度的校招都没有敢参加，真的没有那个勇气了。希望2016年能够拾起算法，对自己的技术学习有所帮助。</p>
<h2 id="对2016年展望"><a href="#对2016年展望" class="headerlink" title="对2016年展望"></a><strong>对2016年展望</strong></h2><p>再也不用在年初制定一年的计划了，而是应该将实践目标阶段化，细节化。同时不要underestimate my capability and overestimate the difficulties。即enough！！！</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[讨论下redis集群方案以及遇到过的坑]]></title>
      <url>http://www.dyike.com/2015/10/22/talk-about-redis/</url>
      <content type="html"><![CDATA[<p>【今日话题】</p>
<p>讨论下redis集群方案以及遇到过的坑 - 阿牛哥</p>
<p>1. twemproxy，codis，未来的redis-cluster</p>
<p>codis的作者出来创业了，但是一直很活跃 - hello</p>
<p>2. Redis cluster 以后的趋势 - 如末</p>
<p>3. 胡兰tv已经用redis cluster了 - sky</p>
<p>4. codis组件太多了</p>
<p>但是周边工具很配套 - hello</p>
<p>5. 目前在用Twemproxy做集群 git上这个已经很久不更新了， Twemproxy支持的命令也有限， - hey</p>
<p>6. 市面上最多的估计据就是它了 官方的cluster还不成熟稳定 Codis 其实也不算成熟 - 如末</p>
<p>7. 目前的redis基于2.6自己定制的…… - tiyee</p>
<p>8. redis集群 我自己之前的操作方法是直接利用redis_sentinel 一主多从 故障之后 选举出新的master 多个master之间利用一致性hash做分配 - lawlielt</p>
<p>9. 偷偷抛个小炸弹：</p>
<p>主redis做数据变更，从做数据查询，但从会产生临时中间计算器数据，这样子大家认为对主从同步是否有影响？为啥[偷笑] - 乔楚</p>
<p>回: 万一全部同步的话 中间数据岂不是被覆盖了？</p>
<p>如果是命令同步 竟然同步必然会涉及到一个类似于什么命令缓存偏移的问题吧 更新操作 会不会影响从库的同步点的问题</p>
<p>主从也要考虑很多问题的 类似于故障迁移 扩展之类的 - lawlielt</p>
<p>10. 其实很想知道有将red is cluster 官方版那个用起来的吗？</p>
<p>我之前收到试用过几次，还挺好用。就是phpredis 扩展缺乏支持 - 如末</p>
<p>11. 我有用过，不过被phpredis坑死了</p>
<p>估计没有proxy不行 - Huangsir</p>
<p>12. 确实phpredis 对集群用起来很蛋疼。昨天看了下</p>
<p>Predis 这个代码扩展。倒是用起来很好用。但是估计效率差点 - 如末</p>
<p>13. 豌豆荚分布式Redis的设计与实现 <a href="http://www.infoq.com/cn/presentations/design-and-implementation-of-wandoujia-distributed-redis" target="_blank" rel="external">http://www.infoq.com/cn/presentations/design-and-implementation-of-wandoujia-distributed-redis</a> - 昱北</p>
<p>【分享链接】</p>
<p>1. 多人开发的 Git 流程 <a href="http://gold.xitu.io/entry/56263cfd00b0023ca69de5ec" target="_blank" rel="external">http://gold.xitu.io/entry/56263cfd00b0023ca69de5ec</a> - ShiverySea</p>
<p>2. 维护一个大型开源项目是怎样的体验？ <a href="http://www.zhihu.com/question/36292298/answer/67049956" target="_blank" rel="external">http://www.zhihu.com/question/36292298/answer/67049956</a> - 猿蜗</p>
<p>3. MariaDB 10.1 每秒可处理一百万查询 <a href="http://mp.weixin.qq.com/s?__biz=MzA5ODM5MDU3MA==&amp;mid=400055734&amp;idx=1&amp;sn=d04822306c80e5bf00203cecda1dfdaf" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MzA5ODM5MDU3MA==&amp;mid=400055734&amp;idx=1&amp;sn=d04822306c80e5bf00203cecda1dfdaf</a> - tony</p>
<p>4. 无线APP日志上报优化实践 <a href="http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=400110965&amp;idx=1&amp;sn=d105f59c78bfaaab943e0e0bde925d99" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=400110965&amp;idx=1&amp;sn=d105f59c78bfaaab943e0e0bde925d99</a> - 朱政国</p>
<p>5. 西部数据宣布190亿美元收购闪迪SanDisk <a href="http://mp.weixin.qq.com/s?__biz=MjM5MzM3NjM4MA==&amp;mid=400599228&amp;idx=1&amp;sn=43287d40a9c8421214fcf608861e90c9" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MjM5MzM3NjM4MA==&amp;mid=400599228&amp;idx=1&amp;sn=43287d40a9c8421214fcf608861e90c9</a> - @理鱼</p>
<p>6. 微服务年度总结，看完这个你应该知道如何回答别人的问题了。 <a href="http://mp.weixin.qq.com/s?__biz=MzA5ODM0NjA3NA==&amp;mid=400146790&amp;idx=1&amp;sn=5cba6e9f90db52dc6d9010c3237c1902" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MzA5ODM0NjA3NA==&amp;mid=400146790&amp;idx=1&amp;sn=5cba6e9f90db52dc6d9010c3237c1902</a> - @理鱼</p>
<p>7. PHP 性能优化 <a href="http://mp.weixin.qq.com/s?__biz=MzAwNjMxMTA5Mw==&amp;mid=400058189&amp;idx=1&amp;sn=bada7be26e1d33071af23e6765ef8a51" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MzAwNjMxMTA5Mw==&amp;mid=400058189&amp;idx=1&amp;sn=bada7be26e1d33071af23e6765ef8a51</a> - 黑夜路人</p>
<p>8. Redis数据结构与存储 <a href="http://shift-alt-ctrl.iteye.com/blog/1874693" target="_blank" rel="external">http://shift-alt-ctrl.iteye.com/blog/1874693</a> - 程序员朋</p>
<p>9. Nginx image processing server with OpenResty and Lua <a href="http://leafo.net/posts/creating_an_image_server.html" target="_blank" rel="external">http://leafo.net/posts/creating_an_image_server.html</a> - 姚文强</p>
<p>10. 构建高性能web之路——mysql读写分离实战 <a href="http://blog.csdn.net/cutesource/article/details/5710645" target="_blank" rel="external">http://blog.csdn.net/cutesource/article/details/5710645</a> - 黑夜路人</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[用 Vagrant 管理虚拟机]]></title>
      <url>http://www.dyike.com/2015/09/20/manage-virtualbox-by-vagrant/</url>
      <content type="html"><![CDATA[<p>Vagrant 可以让我们用命令直接从云上下载虚拟机的镜像，你想要什么系统都行，Centos，Ubuntu …   只需要一行命令，然后再用命令去操作虚拟机，启动，暂停，关闭，重启，你可以更方便的管理所有的在本地上电脑上的虚拟机镜像，手工去配置它们，可以再重新打包成新的镜像，方便你跟你的团队在其它的项目上重复使用。</p>
<h2 id="安装-Vagrant"><a href="#安装-Vagrant" class="headerlink" title="安装 Vagrant"></a>安装 Vagrant</h2><p>Vagrant 提供了一个虚拟机的管理层，虚拟机本身还是需要用到虚拟机的软件，比如 VMware，Virtualbox 等等，推荐用 Virtualbox 。使用系统的包管理工具去安装软件。</p>
<h3 id="Mac-上安装-Vagrant"><a href="#Mac-上安装-Vagrant" class="headerlink" title="Mac 上安装 Vagrant"></a>Mac 上安装 Vagrant</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install vagrant</span><br></pre></td></tr></table></figure>
<h3 id="Mac-上安装-Virtualbox"><a href="#Mac-上安装-Virtualbox" class="headerlink" title="Mac 上安装 Virtualbox"></a>Mac 上安装 Virtualbox</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install Caskroom/cask/virtualbox</span><br></pre></td></tr></table></figure>
<h2 id="Box"><a href="#Box" class="headerlink" title="Box"></a>Box</h2><p>Box ，你可以把它想成是一个箱子，里面装了一些东西。在用 Vagrant 创建虚拟机的时候，需要用到 Box ，它里面会包装操作系统的镜像，不同的 Box 带的操作系统可能是不一样的，比如 CentOS，Ubuntu 等等，你可以基于它们去创建自己版本的 Box，比如在虚拟机上安装一些软件，然后把它重新打包成 Box 。</p>
<p>在 Vagrant 提供的云服务（<a href="https://vagrantcloud.com/" target="_blank" rel="external">https://vagrantcloud.com/</a>）上面可以下载到别人做好的 Box，这个云服务现在叫 Atlas，是 hashicorp 公司的一个产品，Vagrant 也是这家公司的项目。打开这个地址以后，可以去搜索想要用的 Box，可以搜索操作系统的名字，也可以搜索特定的软件的名字，比如 Laravel，Drupal …    在搜索结果上面会显示这个 Box 的下载的次数，你可以用来判断这个 Box 是否受欢迎。</p>
<p>我们需要一个纯净的 Box，就是只包含操作系统，在系统上没有安装其它的多余的东西。注意不同发行版的 Linux 操作起来是有些区别的，我推荐先用一下 CentOS 这款操作系统。</p>
<h3 id="添加-Box"><a href="#添加-Box" class="headerlink" title="添加 Box"></a>添加 Box</h3><p>你要把 Box 下载到本地的电脑上，交给 Vagrant 去管理，这样在创建虚拟机的时候，Vagrant 会复制一份你指定的 Box 到你的项目里面，这样你在这个虚拟机上的操作，就不会影响到其它的项目。先确定你用的电脑上的操作系统的位数，现在一般都是 64 位的操作系统。打开命令行工具以后，执行 vagrant box add 命令去添加 Box 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant box add 名字</span><br></pre></td></tr></table></figure>
<p>如果你指定的 Box 在本地电脑上不存在，Vagrant 就会到它的云上去给你下载。执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant box add chef/centos-6.5</span><br></pre></td></tr></table></figure>
<p>上面的 chef/centos-6.5 还有 centos-6.5-i386 就是想要添加的 Box 的名字，最前面的 chef  ，是一个命名空间，一般就是这个 Box 的作者的名字，后面的 centos-6.5 表示这个 Box 的操作系统是 CentOS ，版本是 6.5 ，i386 表示 32 位的系统。</p>
<h3 id="查看本地上的-Box-列表"><a href="#查看本地上的-Box-列表" class="headerlink" title="查看本地上的 Box 列表"></a>查看本地上的 Box 列表</h3><p>完成以后，可以查看一下在本地上的 Box 列表。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant box list</span><br></pre></td></tr></table></figure>
<h3 id="手工下载并添加-Box-的方法"><a href="#手工下载并添加-Box-的方法" class="headerlink" title="手工下载并添加 Box 的方法"></a>手工下载并添加 Box 的方法</h3><p>在执行 Vagrant box add 添加 Box 的时候，Vagrant 会在命令行上显示 Box 的下载地址，下载的速度还有进度，如果你在国内，很可能下载的速度非常慢。你可以复制 Box 的下载地址，然后用下载工具，比如用迅雷去下载。</p>
<p>完成以后，找到下载下来的文件，文件名里会包含 .box 这个扩展名，如果不是，你需要手工添加这个扩展名。并且重命名一下文件，比如命名为 centos_6.5.box 。然后把它放到桌面上，其它地方也行。打开命令行，进入到手工下面的 Box 文件所在的位置。比如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~/ityike</span><br></pre></td></tr></table></figure>
<p>然后查看一下文件列表：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure>
<p>确定 Box 文件在当前的目录的下面，再执行 vagrant box add 命令去手工添加 Box 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant box add 名称 路径</span><br></pre></td></tr></table></figure>
<p>名称就是你想给这个 Box 起的名字，以后我们会用到这个名字去管理这个 Box，路径是 Box 文件所在的位置，如果你要添加的 Box 直接在你当前所在的目录的下面，可以直接使用 Box 文件的名称，像这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant box add centos-6.5 centos-6.5.box</span><br></pre></td></tr></table></figure>
<p>Vagrant 会把 Box 文件复制到系统的某个特定的目录的下面，完成以后，你就可以把桌面上的 Box 文件删除掉了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm centos-6.5.box</span><br></pre></td></tr></table></figure>
<p>再查看一下可用的 Box 列表：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant box list</span><br></pre></td></tr></table></figure>
<p>在返回的列表里，你应该可以找到自己手工添加的 centos-6.5 这个 Box 。</p>
<h3 id="管理-Box"><a href="#管理-Box" class="headerlink" title="管理 Box"></a>管理 Box</h3><p>添加到本地电脑上的 Box 会放到一个特定的目录的下面。跟 Box 相关的命令，可以用 vagrant box 命令查看。使用的方法就是 vagrant box 后面再加上子相应的子命令，接着是对应的参数。常用的就是 add ，list 还有 remove。add 是添加新的 Box ，list 可以查看已有的 Box ，remove 就是从系统中删除掉 Box 。注意在创建虚拟机的时候，Vagrant 会把你指定的 Box 复制一份放到特定的目录的下面。所以，你在使用 remove 命令删除掉添加到系统中的 Box 的时候，不会影响到这些已有的虚拟机。</p>
<h2 id="创建虚拟机"><a href="#创建虚拟机" class="headerlink" title="创建虚拟机"></a>创建虚拟机</h2><p>添加了 Box 以后，我们就可以用 Vagrant 基于这个 Box 去创建虚拟机了。先找个地方去创建一个目录，这个目录就是你的项目所在的目录，它会自动跟虚拟机上的某个目录同步，也就是在你电脑上的这个目录里面的文件，你同样可以在虚拟机里的某个目录里面找到。比如我要在桌面上创建一个叫 ninghao-project 的目录，然后再进入到这个目录，在命令行工具下面执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~/ityike</span><br><span class="line">mkdir ityike-project</span><br><span class="line">cd ityike-project</span><br></pre></td></tr></table></figure>
<h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><p>首先要做的就是初始化一下，用 vagrant init ，后面指定一下要使用的 Box 的名字。完成以后，在你的目录下面创建一个叫 Vagrantfile 的文件。</p>
<p>先查看一下可用的 Box</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant box list</span><br></pre></td></tr></table></figure>
<p>如果跟着我的步骤来，你应该可以看到一个叫 centos-6.5 的 Box 。下面我们用这个 Box 去初始化一下项目。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant init centos-6.5</span><br></pre></td></tr></table></figure>
<p>完成以后，查看一下当前目录下面的东西。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure>
<p>你会看到一个 Vagrantfile 文件，这个文件是配置当前项目的虚拟机用的，以后我们会再回来看一下怎么样使用这个文件。</p>
<h3 id="启动虚拟机"><a href="#启动虚拟机" class="headerlink" title="启动虚拟机"></a>启动虚拟机</h3><p>Vagrant 提供了一些命令可以操作虚拟机，比如启动，暂停，关闭或者销毁虚拟机。启动虚拟机，执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant up</span><br></pre></td></tr></table></figure>
<p>第一次启动，花的时间会长一些，因为 Vagrant 会把你为项目指定的 Box 复制到一个地方，然后再去启动它。完成以后，你可以用命令再查看一下虚拟机的状态：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant status</span><br></pre></td></tr></table></figure>
<p>如果返回的是 running ，说明虚拟机启动成功，现在你就可以使用 ssh 连接到虚拟机，去控制它了。</p>
<h3 id="控制虚拟机"><a href="#控制虚拟机" class="headerlink" title="控制虚拟机"></a>控制虚拟机</h3><p>想在 Linux 系统的虚拟机上进行操作，你要用 ssh 连接到虚拟机，这跟你远程控制 Linux 的服务器是一样的。</p>
<h4 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant ssh</span><br></pre></td></tr></table></figure>
<h3 id="暂停与恢复"><a href="#暂停与恢复" class="headerlink" title="暂停与恢复"></a>暂停与恢复</h3><p>虚拟机在运行的时候会消耗你的电脑资源，比如内存，CPU 等等，在不用它的时候，可以关掉或者使用暂停，暂停虚拟机可以保存虚拟机运行时候的状态，暂停以后，除了占点硬盘空间以外，就不会消耗你的其它资源了。</p>
<p>进入到项目所在的目录，然后可以用 vagrant status 查看一下当前的虚拟机的状态，如果是 running ，你就可以使用命令去暂停一下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant suspend</span><br></pre></td></tr></table></figure>
<p>重新恢复起动，执行命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant resume</span><br></pre></td></tr></table></figure>
<p>想要彻底关掉虚拟机的运行，执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant halt</span><br></pre></td></tr></table></figure>
<p>停止以后，要想再起动虚拟机，要执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant up</span><br></pre></td></tr></table></figure>
<h3 id="删除虚拟机"><a href="#删除虚拟机" class="headerlink" title="删除虚拟机"></a>删除虚拟机</h3><p>不打算再用的虚拟机，可以把它删除掉，直接删除项目的目录是不行的，因为为项目指定的虚拟机并不包含在这个项目的目录下面，需要使用命令去删除虚拟机。进入到项目所在目录，然后执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant destroy</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="配置共享目录"><a href="#配置共享目录" class="headerlink" title="配置共享目录"></a>配置共享目录</h3><p>打开 Vagrantfile ，搜索一下共享目录的配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># config.vm.synced_folder</span><br></pre></td></tr></table></figure>
<p>去掉这行代码前面的 # 符号 。这个配置后面有两个参数，第一个参数是主机上的目录，可以使用绝对的位置，也可以使用相对的位置，如果是相对位置，是相对于项目根目录的位置，也就是相对于 Vagrantfile 这个文件所在的目录的位置。两个参数之间是一个逗号，第二个参数是在虚拟机上的目录，如果你设置的目录在虚拟机上不存在，Vagrant 在启动虚拟机的时候，会自动去创建这个目录。<br>比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">config.vm.synced_folder &quot;app&quot;, &quot;/vagrant&quot;</span><br></pre></td></tr></table></figure>
<h2 id="端口转发"><a href="#端口转发" class="headerlink" title="端口转发"></a>端口转发</h2><p>然后搜索：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">config.vm.network &quot;forwarded_port&quot;, guest: 80, host: 8080</span><br></pre></td></tr></table></figure>
<p>去掉这行代码最前面的 # 号， 这个配置就是端口转发</p>
<hr>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[由于自己的疏忽，一个低级的错误]]></title>
      <url>http://www.dyike.com/2015/09/19/about-an-error/</url>
      <content type="html"><![CDATA[<p>PHP中continue后面的分号，疏忽掉就会出现不一样的情况。<br>看一个简单的例子：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">for</span> ($i = <span class="number">0</span>; $i &amp;lt; <span class="number">5</span>; ++$i) &#123;</span><br><span class="line"><span class="keyword">if</span> ($i == <span class="number">2</span>)</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line"><span class="keyword">print</span> <span class="string">"$i\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>这种情况输出的结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">1</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td></tr></table></figure></p>
<p>去掉分号后：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">for</span> ($i = <span class="number">0</span>; $i &amp;lt; <span class="number">5</span>; ++$i) &#123;</span><br><span class="line"><span class="keyword">if</span> ($i == <span class="number">2</span>)</span><br><span class="line"><span class="keyword">continue</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">"$i\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>在php5.4之前的版本输出的结果：<br><code>2</code><br>因为整个 continue print “$i\n”; 被当做单一的表达式而求值，所以 print 函数只有在 $i == 2 为真时才被调用（print 的值被当成了上述的可选数字参数而传递给了 continue）。</p>
<p>还有重要的，在php5.4版本中，这个情况是不能输出结果的。<br><code>5.4.0 continue 0; 不再合法。这在之前的版本被解析为 continue 1;。</code><br><code>5.4.0 取消变量作为参数传递（例如 $num = 2; continue $num;）。</code></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ubuntu下配置nginx，mysql，php环境]]></title>
      <url>http://www.dyike.com/2015/09/16/the-php-dev-in-ubuntu/</url>
      <content type="html"><![CDATA[<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>今天在虚拟机上基于Ubuntu安装配置了服务器运行环境，web服务用 nginx，数据库存储在 mysql,动态脚本语言是 php。</p>
<h4 id="安装nginx"><a href="#安装nginx" class="headerlink" title="安装nginx"></a>安装nginx</h4><h5 id="下载并添加nginx-signing-key"><a href="#下载并添加nginx-signing-key" class="headerlink" title="下载并添加nginx_signing.key"></a>下载并添加nginx_signing.key</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget http://nginx.org/keys/nginx_signing.key</span><br><span class="line">sudo apt-key add nginx_signing.key</span><br></pre></td></tr></table></figure>
<h5 id="添加官方源"><a href="#添加官方源" class="headerlink" title="添加官方源"></a>添加官方源</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/apt/sources.list</span><br></pre></td></tr></table></figure>
<p>在末尾加上：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">deb http://nginx.org/packages/ubuntu/ trusty nginx</span><br><span class="line">deb-src http://nginx.org/packages/ubuntu/ trusty nginx</span><br></pre></td></tr></table></figure>
<p>然后更新：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>
<h5 id="安装nginx-1"><a href="#安装nginx-1" class="headerlink" title="安装nginx"></a>安装nginx</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nginx</span><br></pre></td></tr></table></figure>
<h4 id="安装mysql"><a href="#安装mysql" class="headerlink" title="安装mysql"></a>安装mysql</h4><h5 id="下载和安装MySQL-APT-Repository"><a href="#下载和安装MySQL-APT-Repository" class="headerlink" title="下载和安装MySQL APT Repository"></a>下载和安装MySQL APT Repository</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget http://dev.mysql.com/get/mysql-apt-config_0.5.3-1_all.deb</span><br><span class="line">sudo dpkg -i mysql-apt-config_0.5.3-1_all.deb</span><br></pre></td></tr></table></figure>
<h5 id="确认版本，或者更改版本："><a href="#确认版本，或者更改版本：" class="headerlink" title="确认版本，或者更改版本："></a>确认版本，或者更改版本：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg-reconfigure mysql-apt-config</span><br></pre></td></tr></table></figure>
<h5 id="更新源并安装mysql-server"><a href="#更新源并安装mysql-server" class="headerlink" title="更新源并安装mysql-server"></a>更新源并安装mysql-server</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install mysql-server</span><br></pre></td></tr></table></figure>
<h4 id="安装PHP"><a href="#安装PHP" class="headerlink" title="安装PHP"></a>安装PHP</h4><h5 id="下载Php并解压"><a href="#下载Php并解压" class="headerlink" title="下载Php并解压"></a>下载Php并解压</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget http://cn2.php.net/distributions/php-7.0.6.tar.bz2</span><br><span class="line">tar jxf php-7.0.6.tar.bz2</span><br></pre></td></tr></table></figure>
<h5 id="安装所需依赖"><a href="#安装所需依赖" class="headerlink" title="安装所需依赖"></a>安装所需依赖</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libxml2-dev build-essential openssl libssl-dev make curl libcurl4-gnutls-dev libjpeg-dev libpng-dev libmcrypt-dev libreadline6 libreadline6-dev</span><br></pre></td></tr></table></figure>
<h5 id="configure"><a href="#configure" class="headerlink" title="configure"></a>configure</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">./configure --prefix=/usr/local/php --with-config-file-path=/usr/local/php/etc --enable-fpm --with-fpm-user=www --with-fpm-group=www --with-mysqli --with-pdo-mysql --with-iconv-dir --with-freetype-dir --with-jpeg-dir --with-png-dir --with-zlib --with-libxml-dir=/usr --enable-xml --disable-rpath --enable-bcmath --enable-shmop --enable-sysvsem --enable-inline-optimization --with-curl --enable-mbregex --enable-mbstring --with-mcrypt --enable-ftp --with-gd --enable-gd-native-ttf --with-openssl --with-mhash --enable-pcntl --enable-sockets --with-xmlrpc --enable-zip --enable-soap --without-pear --with-gettext --disable-fileinfo --enable-maintainer-zts</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr/local/php7 \</span><br><span class="line">--with-config-file-path=/usr/local/php7/etc \</span><br><span class="line">--with-config-file-scan-dir=/usr/local/php7/etc/php.d \</span><br><span class="line">--with-mcrypt=/usr/include \</span><br><span class="line">--enable-mysqlnd \</span><br><span class="line">--with-mysqli \</span><br><span class="line">--with-pdo-mysql \</span><br><span class="line">--enable-fpm \</span><br><span class="line">--with-fpm-user=nginx \</span><br><span class="line">--with-fpm-group=nginx \</span><br><span class="line">--with-gd \</span><br><span class="line">--with-iconv \</span><br><span class="line">--with-zlib \</span><br><span class="line">--enable-xml \</span><br><span class="line">--enable-shmop \</span><br><span class="line">--enable-sysvsem \</span><br><span class="line">--enable-inline-optimization \</span><br><span class="line">--enable-mbregex \</span><br><span class="line">--enable-mbstring \</span><br><span class="line">--enable-ftp \</span><br><span class="line">--enable-gd-native-ttf \</span><br><span class="line">--with-openssl \</span><br><span class="line">--enable-pcntl \</span><br><span class="line">--enable-sockets \</span><br><span class="line">--with-xmlrpc \</span><br><span class="line">--enable-zip \</span><br><span class="line">--enable-soap \</span><br><span class="line">--without-pear \</span><br><span class="line">--with-gettext \</span><br><span class="line">--enable-session \</span><br><span class="line">--with-curl \</span><br><span class="line">--with-jpeg-dir \</span><br><span class="line">--with-freetype-dir \</span><br><span class="line">--enable-opcache</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<h5 id="加入系统变量"><a href="#加入系统变量" class="headerlink" title="加入系统变量"></a>加入系统变量</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo echo &quot;PATH=$PATH:/usr/local/php7/bin&quot;&gt;&gt; /etc/profile</span><br><span class="line">sudo echo &quot;export PATH&quot;&gt;&gt; /etc/profile</span><br><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>
<h5 id="一些配置文件的复制"><a href="#一些配置文件的复制" class="headerlink" title="一些配置文件的复制"></a>一些配置文件的复制</h5><ul>
<li>编译后，cd到源码跟目录，然后</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp php.ini-production /usr/local/php7/lib/php.ini</span><br></pre></td></tr></table></figure>
<ul>
<li>cd /usr/local/php7/etc ,然后</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp php-fpm.conf.default php-fpm.conf</span><br></pre></td></tr></table></figure>
<ul>
<li>cd /usr/local/php7/etc/php-fpm.d，然后</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp www.conf.default www.conf</span><br></pre></td></tr></table></figure>
<h5 id="设置php-fpm配置文件"><a href="#设置php-fpm配置文件" class="headerlink" title="设置php-fpm配置文件"></a>设置php-fpm配置文件</h5><ul>
<li>php-fpm.conf的pid</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /usr/local/php7/etc/php-fpm.conf</span><br></pre></td></tr></table></figure>
<ul>
<li>启动php-fpm服务</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/php7/sbin/php-fpm</span><br></pre></td></tr></table></figure>
<ul>
<li>新建www用户组：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">groupadd www</span><br><span class="line">useradd -g www www</span><br></pre></td></tr></table></figure>
<ul>
<li>再次启动</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/php7/sbin/php-fpm</span><br></pre></td></tr></table></figure>
<ul>
<li>开机启动php-fpm<br>开机启动的配置文件是：/etc/rc.local ，加入 /usr/local/php7/sbin/php-fpm 即可</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/rc.local</span><br></pre></td></tr></table></figure>
<pre><code>#!/bin/sh

# This script will be executed *after* all the other init scripts.
# You can put your own initialization stuff in here if you don&apos;t
# want to do the full Sys V style init stuff.

touch /var/lock/subsys/local
/usr/local/apache/bin/apachectl start
/usr/local/bin/redis-server /etc/redis.conf
/usr/local/php7/sbin/php-fpm
</code></pre><h4 id="配置nginx略了"><a href="#配置nginx略了" class="headerlink" title="配置nginx略了"></a>配置nginx略了</h4>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[科学上网：用VPS搭建shadowsocks服务器]]></title>
      <url>http://www.dyike.com/2015/09/04/how-to-use-google/</url>
      <content type="html"><![CDATA[<p>学会 科学上网：用 VPS搭建shadowsocks 服务器</p>
<p>目前将shadowsocks部署到25端口似乎还不会被封锁，大家可以尝试。</p>
<h2 id="购买VPS服务器"><a href="#购买VPS服务器" class="headerlink" title="购买VPS服务器"></a>购买VPS服务器</h2><p>主流的VPS（虚拟主机）服务器提供商有三家：</p>
<ul>
<li>linode</li>
<li>digital ocean</li>
<li>bandwagon<br>下面的比上面的便宜。如果只是自用，bandwagon足够。</li>
</ul>
<p>一般使用paypal绑定一个visa或mastercard信用卡来付款。注意要用国际paypal帐号，国内的是不能用外币付款的。</p>
<p>在bandwagon购买VPS以后会获得一个主机地址和用于ssh登录的root密码。</p>
<h2 id="远程登陆VPS"><a href="#远程登陆VPS" class="headerlink" title="远程登陆VPS"></a>远程登陆VPS</h2><p>Mac OS X 或Linux下直接在终端中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh root@your_vps_ip -p your_ssh_port</span><br></pre></td></tr></table></figure>
<p>即可。</p>
<p>在windows系统下需要专门的客户端来SSH登录VPS。在<a href="http://www.netsarang.com/download/down_form.html?code=522" target="_blank" rel="external">xShell官网</a> 下载xShell。</p>
<p>家庭和学校用户可以免费试用，下载时选择home and school use即可。需要用邮箱注册一下，下载链接会发送到邮箱中。</p>
<p>xShell中新建一个连接，会要求输入目标IP地址和端口，以及root密码，按提示操作即可。</p>
<h2 id="安装shadowsocks"><a href="#安装shadowsocks" class="headerlink" title="安装shadowsocks"></a>安装shadowsocks</h2><p>打开shell，使用VPS服务商提供的root用户和密码SSH登录VPS。然后执行如下命令：</p>
<h3 id="Debian-Ubuntu"><a href="#Debian-Ubuntu" class="headerlink" title="Debian/Ubuntu:"></a>Debian/Ubuntu:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get install python-pip</span><br><span class="line">pip install shadowsocks</span><br></pre></td></tr></table></figure>
<h3 id="CentOS"><a href="#CentOS" class="headerlink" title="CentOS:"></a>CentOS:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install python-setuptools &amp;amp;&amp;amp; easy_install pip</span><br><span class="line">pip install shadowsocks</span><br></pre></td></tr></table></figure>
<p>shadowsocks就安装好了。</p>
<p>有时Ubuntu会遇到第一个命令安装python-pip时找不到包的情况。pip官方给出了一个安装脚本，可以自动安装pip。先下载脚本，然后执行即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://bootstrap.pypa.io/get-pip.py</span><br><span class="line">python get-pip.py</span><br></pre></td></tr></table></figure>
<h2 id="编写配置文件"><a href="#编写配置文件" class="headerlink" title="编写配置文件"></a>编写配置文件</h2><p>shadowsocks启动时的参数，如服务器端口，代理端口，登录密码等，可以通过启动时的命令行参数来设定，也可以通过json格式的配置文件设定。推荐使用配置文件，方便查看和修改。</p>
<p>用vi新建一个配置文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/shadowsocks.json</span><br></pre></td></tr></table></figure>
<p>然后输入如下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;server&quot;:&quot;my_server_ip&quot;,</span><br><span class="line">&quot;server_port&quot;:25,</span><br><span class="line">&quot;local_address&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">&quot;local_port&quot;:1080,</span><br><span class="line">&quot;password&quot;:&quot;mypassword&quot;,</span><br><span class="line">&quot;timeout&quot;:300,</span><br><span class="line">&quot;method&quot;:&quot;aes-256-cfb&quot;,</span><br><span class="line">&quot;fast_open&quot;: false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>保存退出。</p>
<h2 id="启动shadowsocks"><a href="#启动shadowsocks" class="headerlink" title="启动shadowsocks"></a>启动shadowsocks</h2><p>如果已经写好了配置文件，启动shadowsocks服务器的命令如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssserver -c /etc/shadowsocks.json</span><br></pre></td></tr></table></figure>
<p>后台启动和停止shadowsocks服务器：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssserver -c /etc/shadowsocks.json -d start</span><br><span class="line">ssserver -c /etc/shadowsocks.json -d stop</span><br></pre></td></tr></table></figure>
<p>shadowsocks的日志保存在</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/var/log/shadowsocks.log</span><br></pre></td></tr></table></figure>
<h2 id="安装并启动shadowsocks客户端"><a href="#安装并启动shadowsocks客户端" class="headerlink" title="安装并启动shadowsocks客户端"></a>安装并启动shadowsocks客户端</h2><p>shadowsocks支持windows、Mac OS X、Linux、Android、iOS等多个平台。不过iOS由于系统对应用后台运行的限制，只能使用客户端内嵌的浏览器科学上网，不能给其他应用代理。</p>
<p>shadowsocks项目Github主页：<a href="https://github.com/shadowsocks/shadowsocks" target="_blank" rel="external">https://github.com/shadowsocks/shadowsocks</a></p>
<p>里面可以找到客户端下载地址。</p>
<p>下载安装客户端以后，只需按服务器的配置填写IP地址、服务器端口、本地端口（如果没有本地端口选项，就是默认的1080）、密码、加密方式等参数，启动就可以了。</p>
<p>客户端支持全局代理和PAC代理两种方式，后者会使用一个脚本来自动检查一个网站是否在需要代理的网站列表中，自动选择直接连接或代理连接。</p>
<p>PAC列表可以在线更新，但是难免有收录不全的情况。这时可以选择关闭shadowsocks代理（实际上是取消对系统代理的配置，shadowsocks客户端仍然保持工作），然后使用支持自定义规则的代理管理插件来实现自动切换代理，比如switchyOmega。</p>
<h2 id="使用switchyOmega实现自动切换代理"><a href="#使用switchyOmega实现自动切换代理" class="headerlink" title="使用switchyOmega实现自动切换代理"></a>使用switchyOmega实现自动切换代理</h2><p>switchyOmega是chrome浏览器上一个很好用的代理管理插件。它的前身switchySharp更有名。</p>
<p>chrome应用商店本身需要翻墙才能访问，因此需要先在shadowsocks启动代理模式下下载安装，再关闭shadowsocks代理。</p>
<p>安装完毕后，右击switchyOmega图标，选择选项，进入switchOmega配置界面。</p>
<h3 id="创建shadowsocks情景模式"><a href="#创建shadowsocks情景模式" class="headerlink" title="创建shadowsocks情景模式"></a>创建shadowsocks情景模式</h3><p>新建一个情景模式，比如叫SS，代理协议选择socks5，代理地址为127.0.0.1，端口1080。</p>
<p>现在切换到SS情景模式就可以通过shadowsocks科学上网了。后面获取自动切换规则列表</p>
<h3 id="设置自动切换模式"><a href="#设置自动切换模式" class="headerlink" title="设置自动切换模式"></a>设置自动切换模式</h3><p>在设置界面选择自动切换模式，在“切换规则”中勾选“规则列表规则”，对应的情景模式选择刚刚新建的SS。</p>
<p>然后在下面的规则列表地址中填写</p>
<p><a href="https://autoproxy-gfwlist.googlecode.com/svn/trunk/gfwlist.txt" target="_blank" rel="external">https://autoproxy-gfwlist.googlecode.com/svn/trunk/gfwlist.txt</a></p>
<p>规则列表格式选择AutoProxy。</p>
<p>然后点击立即更新情景模式， 更新完成后会有提示。</p>
<p>点击左侧的“应用选项”。然后单击switchyOmega图标，选择自动切换，就可以在访问“不存在的网站”时自动切换到shadowsocks代理了。</p>
<h3 id="添加自定义规则"><a href="#添加自定义规则" class="headerlink" title="添加自定义规则"></a>添加自定义规则</h3><p>如果遇到某个国外网站无法直接连接或速度太慢时，可以单击switchyOmega图标，选择“添加条件”，情景模式选择SS，就可以了。</p>
<p>这时打开switchyOmega选项，在自动切换模式的切换规则中就可以看到刚刚添加的规则。可以在这里管理自定义的规则。</p>
<h3 id="导入和导出switchyOmega设置"><a href="#导入和导出switchyOmega设置" class="headerlink" title="导入和导出switchyOmega设置"></a>导入和导出switchyOmega设置</h3><p>如果换了一台电脑，重新设置一遍switchyOmega就太麻烦了。可以在设置好的switchyOmega中导出设置文件，在另一个chrome浏览器中导入，就可以直接复制原来的设置了。</p>
<p>在switchyOmega选项的左侧点击“导入/导出”，点击“生成备份文件”即可生成switchyOmega设置备份。点击“从备份文件恢复”可以导入备份文件。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[2015年8月8日晚小记]]></title>
      <url>http://www.dyike.com/2015/08/08/2015-8-8/</url>
      <content type="html"><![CDATA[<p>好久好久没有对自己进行总结了，记得上一次对自己得总结还是2015年初写2014年的总结。2015年都已经走下了一大半了，该总结的总结了。还记得年初的时候在轻单list了一份计划，现在看看，有的实现了，有的今年不能实现了。</p>
<p>3月份大三开学，回学校做了一个决定，几乎改变了今年的动向，那个时候觉得自己就是在做梦一样，可是偏偏自己决定了考研。常常对自己说，<strong><u>自己决定的东西，含着泪也要坚持做完。</u></strong>我一直是反对考研的人，因为考研就意味能找到一个好的工作？身边好多同学都会反驳我不是说考研不好嘛为什么还要考研，我都是说“现在我还是觉得考研并一定是一个最好的选择”。</p>
<p>在决定的过程中，自己犹豫过，不知道自己选择考什么专业，毕竟如今的互联网技术发展太快了，人们喜欢学习新的知识。也犹豫是不是要留北京，总之太多的犹豫，不过最后还是爽快地决定了。离考研的日子越来越近了，这个过程确实有很多的感受，自己吊儿郎当过，也任性过。有时候想放弃，学习真的太痛苦了，自己已经不是以前的自己，已经不太适合学习。。。可人都是被逼出来的，在学校的时候，把高数翻了一遍，英语单词也过完一遍，也复习了数据结构，学习了计算机网络。</p>
<p>暑假，也是人生中的最后一个暑假，还是选择一放假就回来了，回来跟父母在一起。回来重要的任务还是学习迎考。但是在家的学习效率还是很低很低的。现在做数学全书题目【做到积分】，每天对着考点复习计算机组成原理，英语词汇在过第二遍……虽然在家已经习惯每天早上六点起床，但每天有很多的松懈的时候，感觉自己还不处于饱和的状态。【此文也是在提醒自己】</p>
<p>说了这么多学习，还要说点其他的。四月份坚持跑步一个月，原本把这个事坚持下去，最后还是没有坚持得下去，那一个月最充实，每天还坚持写代码，哪怕只写一个函数调用……美好的事情总是短暂的，原因还是我自己的问题。</p>
<p>哦，还有一个事就是大三下学期没有挂科，这个有记录的意义。其他我没有写的事应该都是鸡毛蒜皮的事了。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[【08-03】业余时间怎么充电？技术管理的进阶，有哪些初和中级书籍，工具？技术思想怎么提升和实践？]]></title>
      <url>http://www.dyike.com/2015/08/04/share-with-amateur-learning/</url>
      <content type="html"><![CDATA[<h2 id="转自2015-08-04-黑夜路人技术"><a href="#转自2015-08-04-黑夜路人技术" class="headerlink" title="转自2015-08-04 黑夜路人技术"></a><em>转自2015-08-04</em> 黑夜路人技术</h2><p>【今日话题】</p>
<p>业余时间大家是怎么充电？技术管理的进阶，有哪些方面的初和中级书籍，工具？技术思想怎么提升和实践？ - 马犇 星星bigxing</p>
<p>1. 介绍一个充电好地方，黑夜路人技术微信群phper值得进的群。 - 拉菲哥</p>
<p>2. 据说管理可以从生养孩子开始 - 胡继伟</p>
<p>3. 偏基础和理论的自修，偏思维进阶和实践的要交流 - Jesse</p>
<p>4. 个人感觉充电的方向如果和手头的项目紧密关键效果会很好 学以致用 - 蚂蚁</p>
<p>5. 下班时间会读想要了解的技术方面的书籍来充电 - phpfans</p>
<p>6. 看大牛们的博客， - 王大锤</p>
<p>7. 《代码大全》 - 黄垣华</p>
<p>8. 刚来北京要找工作的时候～看过一些大公司面试要求上面的知识点～针对性google了一遍～盲区变少～知识颠覆对初入行有帮助 - 零度西瓜</p>
<p>9. Linux 管理：</p>
<p>《Linux 系统管理技术手册》 案头必备的工具书。</p>
<p>《鸟哥的 Linux 私房菜》不错的入门书。</p>
<p>《Linux 101 Hacks》常用命令手册</p>
<p>《UNIX Shell Scripting》写脚本的参考书</p>
<p>《The Linux Command Line》更详细的命令手册</p>
<p>Linux 编程：</p>
<p>《Linux 系统编程》对常用 API 讲述最详细的一本书</p>
<p>《UNIX 环境高级编程》经典</p>
<p>《The Linux Programming Interface》与上本书配套</p>
<p>《程序员的自我修养》别被名字误导，极好的一本深度基础书。</p>
<p>《深入理解 Linux 内核》可以翻翻，对提升细节理解有好处。</p>
<p>《UNIX 网络编程》经典</p>
<p>《TCP/IP 高级编程》好书</p>
<p>C/C++:</p>
<p>《C 程序设计语言》入门书</p>
<p>《Lnux C 编程一站式学习》Linux 下开发的入门书</p>
<p>《C 语言核心技术》参考手册</p>
<p>《彻底搞定 C 指针》最好的指针入门书</p>
<p>《C++ 编程思想》经典</p>
<p>《高质量程序设计指南——C/C++语言》经典</p>
<p>《C 专家编程》</p>
<p>《C 和指针》</p>
<p>《C 陷阱与缺陷》</p>
<p>Golang:</p>
<p>《Learing Go》简单</p>
<p>《The Go Programming Language》比较详细</p>
<p>《The way to Go》提升</p>
<p>Javascript:</p>
<p>《Javascript, A Beginner’s Guide》</p>
<p>《Object-Oriented Javascript》</p>
<p>Python:</p>
<p>《Python Pocket Reference》适合经常翻翻</p>
<p>《Expert Python Programming》某些地方很有启发</p>
<p>其他:</p>
<p>《深入理解计算机系统》经典，必读</p>
<p>《计算机组成与设计》可以翻翻</p>
<p>《汇编语言》王爽 最好的汇编入门书</p>
<p>《数据结构》C 语言版 经典</p>
<p>《Java 数据结构和算法》更易阅读</p>
<p>《Debug Hacks 中文版》GDB 入门书</p>
<p>《设计模式——可复用面向对象软件的基础》经典</p>
<ul>
<li>老虎</li>
</ul>
<p>10. 我一般会去国外淘一些比较好的视频教程，一边看，一边照着做，效果不错 - 姚文强</p>
<p>11. 在大学如果能所这些基础弄好，出来干个一年，就会有指数性增长</p>
<p>我认识一人，重庆大学电子系，大学6年都在学。。出来在南京呆了一年，来上海就上升到技术经理了。 - tywei</p>
<p>12. 计算机书籍控 <a href="http://bestcbooks.com/categories/c/" target="_blank" rel="external">http://bestcbooks.com/categories/c/</a> - victor_少钢</p>
<p>13. 人月神话 算不算。。 - 孟尧</p>
<p>14. 吴军的那几本书不错</p>
<p>松本有本书叫《代码的未来》对我挺有影响的。</p>
<p>管理类的书籍强烈推荐一本《领导梯队》，看到王兴在美团力推，我就买来看了看，挺好。 - 幻觉大的很</p>
<p>15. 我给大家推荐一本书，奇特的一生。 - 阿牛哥</p>
<p>16. 周爱民有本 大道至简里，专门吐槽 人月神话 老提问题，不求本质 - 孟尧</p>
<p>17. 大话设计模式，高性能mysql，mysql技术内幕—innodb存储引擎 - 周志</p>
<p>18. 大家平时是怎么分配时间看书的，我身边的朋友有两类，一是利用很长的一段时间来看，比如3个月，每天看一点点。另外一类朋友，喜欢短时间内，一直看这本书。比如每天下班回家看个几个小时</p>
<p>我是不管怎么样，每天都必须翻一翻，哪怕就是翻一页想睡觉了，也要看上几页。话说，对于喜欢熬夜的童鞋，又想改掉这个习惯的，看书真的是一个不错的选择，说不定没看几分钟就倦意袭来 - 阿牛哥</p>
<p>19. 浪潮之巅 - 如末</p>
<p>20. 难道不应该多学学英语吗</p>
<p>我觉得吧，工作了，很多基础知识和技能被忽视了，比如英语，计算机体系的知识。</p>
<p>偏基础的知识读起来比较苦闷，不然技能书籍读起来畅快</p>
<p>很多人，虽然写代码多年，但知识不成体系，阻碍了自身发展</p>
<p>会再多的语言，也还是很浅显的层面，还美其名曰”全栈工程师” - tiyee</p>
<p>21. 之前看过疯狂的程序员，感觉刚毕业的或者在校童鞋可以看看</p>
<p>unix编程艺术 - 宋明明</p>
<p>22. 我一般只看几页没意思，下次接着看还是得把这几页重新看一遍，看一次尽量把一个相对独立的知识点看完，然后一次专注看一本书，看完再下一本，储备太多书会经常每本都没看完的情况，买书还看时效，有时候兴趣一提就买了，如果不马上看完，过两个月就不会看了 - JoJo</p>
<p>23. 操作系统的书大家来推荐几本，我一口气读完了操作系统哲学原理 通俗</p>
<p>以我的观察，身边很多同事都是1年工作经验工作10年</p>
<p>充其量只是熟练点而已</p>
<p>没有知识体系，也不愿意去学习 - 阿牛哥</p>
<p>24. 像代码大全，重构这类书，我觉得是必看的，我身边同事很多人都没看过，甚至没有看书的习惯，我都不喜欢跟他们一起工作</p>
<p>其实学习也是相对的，身边牛人多，就不敢不学，分分钟被淘汰，像我这边还是牛人太少 - JoJo</p>
<p>25. 工作必备技能不看更要命</p>
<p>比如协同开发，版本控制，我是开发岗位，但是涉及协同开发，这东西必须要会。否则没法合作呀 - 宋明明</p>
<p>26. 还得多买几本教你怎么吹牛的书。 - 如末</p>
<p>27. 网易有一套完整的本科计算机课程</p>
<p><a href="http://study.163.com/curricula/cs.htm" target="_blank" rel="external">http://study.163.com/curricula/cs.htm</a> - tiyee</p>
<p>28. 我的习惯是这样的: 先初步了解，然后做中学，追求极致的想着怎么做好，然后会发现某些方面的匮乏，在去专攻，如此循环。把手头的事，身边的事做极致，想极致，一个点一个点的最后会连成线，最后在面的层面大量看书去融会贯通，线和面也交替循环。 - 劉飛</p>
<p>29. 以学习php拓展为例子。可以在公司内部的技术群招募想要学习的人。公司大牛做指导。然后，每周抽一天或者二天下班后，大家一起学习。目前所在公司是大牛组织学习，讲解。大家平时自己抽时间练习。 - HQ数字卡</p>
<p>30. 多看书，多撸代码，多思考！</p>
<p>我一般先把工作中需要用的知识以及相关的知识都搞熟，这样学习的知识就能在实际工作中进行应用，同时，我也会比工作中其它成员知道的更多，也会让我能够更加熟悉的驾驭工作，之后当工作已经没有任何问题以后，再以工作中的知识点进行拓展！ -</p>
<ul>
<li>果冻</li>
</ul>
<p>31. 先完成手上的工作，如果遇到一些不懂得最后解决了，或者看其他人的好的代码，都要写博客记录下来。手头上的工作不要拖，越早完成越好，那么剩下的时间都是你的了，你可以看书，可以写博客，可以学其他的东西。 - 如末</p>
<p>32. 看开源的代码会提升的比较快，但是在看的时候要清楚自己想要获得什么！ - 阿辉</p>
<p>33. 最近总结php高级应该掌握的技术各位觉的怎么样</p>
<p>1 yii thinkphp ci 各自优点</p>
<p>2 php 设计模式</p>
<p>3 c 排序算法</p>
<p>4 php 基本结构</p>
<p>5 memcache magent 分布式设计</p>
<p>6 redis 分布式设计</p>
<p>7 mongo 集群架构</p>
<p>8 mysql 索引原理及sql性能优化</p>
<p>9 tcp/ip 网络协议</p>
<p>10 php 处理大数据业务</p>
<p>11 linux 应用 负载性能查看</p>
<p>12 nginx 实战优化业务功能</p>
<ul>
<li>罗金龙</li>
</ul>
<p>【分享链接】</p>
<p>1. [MySQL FAQ]系列 — 怎么计算打开文件数 <a href="http://mp.weixin.qq.com/s?__biz=MjM5NzAzMTY4NQ==&amp;mid=207286573&amp;idx=1&amp;sn=7d7d69eac648ee85b5c2e31e6a5001fe" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MjM5NzAzMTY4NQ==&amp;mid=207286573&amp;idx=1&amp;sn=7d7d69eac648ee85b5c2e31e6a5001fe</a> - 马振国</p>
<p>2. etcd 2.1发布，可不宕机滚动升级 <a href="http://dockone.io/article/539" target="_blank" rel="external">http://dockone.io/article/539</a> - xingxing</p>
<p>3. RebornDB：下一代分布式Key-Value数据库架构介绍 <a href="http://mp.weixin.qq.com/s?__biz=MzAwNjMxNjQzNA==&amp;mid=208050108&amp;idx=1&amp;sn=05f972ab35726fcaa0fc3a8c4e9a33f8" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MzAwNjMxNjQzNA==&amp;mid=208050108&amp;idx=1&amp;sn=05f972ab35726fcaa0fc3a8c4e9a33f8</a> - 黑夜路人</p>
<p>4. Google 镜像站搜集 <a href="https://github.com/sxyx2008/DevArticles/issues/99" target="_blank" rel="external">https://github.com/sxyx2008/DevArticles/issues/99</a> - 风轻轻</p>
<p>5. 基于容器的微服务架构剖析 <a href="http://mp.weixin.qq.com/s?__biz=MjM5NzAwNDI4Mg==&amp;mid=210298194&amp;idx=1&amp;sn=2b14ab466002088dfd7ce2f2d7ea2ac6" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MjM5NzAwNDI4Mg==&amp;mid=210298194&amp;idx=1&amp;sn=2b14ab466002088dfd7ce2f2d7ea2ac6</a> - 鲁猛</p>
<p>6. Asynchronous Javascript templating for the browser and server <a href="https://github.com/linkedin/dustjs" target="_blank" rel="external">https://github.com/linkedin/dustjs</a> - twin</p>
<p>7. 分布式系统若干经验总结 <a href="http://m.oschina.net/blog/409503" target="_blank" rel="external">http://m.oschina.net/blog/409503</a> - 不如</p>
<p>8. 做一个这样的 APP 要多久？ <a href="http://mp.weixin.qq.com/s?__biz=MjM5ODI5Njc2MA==&amp;mid=210896168&amp;idx=1&amp;sn=a5ac91b3da39c1d8c67bfd1aa84bd220" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MjM5ODI5Njc2MA==&amp;mid=210896168&amp;idx=1&amp;sn=a5ac91b3da39c1d8c67bfd1aa84bd220</a> - null</p>
<p>9. 作为程序员最应该投资的是这十件事 <a href="http://mp.weixin.qq.com/s?__biz=MzI1OTAwNDAzNA==&amp;mid=208152421&amp;idx=1&amp;sn=9830a91208b1dfdbee64752f235ace56" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MzI1OTAwNDAzNA==&amp;mid=208152421&amp;idx=1&amp;sn=9830a91208b1dfdbee64752f235ace56</a> - 黑夜路人</p>
<p>10. 我用爬虫一天时间“偷了”知乎一百万用户，只为证明PHP是世界上最好的语言 <a href="http://mp.weixin.qq.com/s?__biz=MzAwNjMxMTA5Mw==&amp;mid=212859441&amp;idx=1&amp;sn=d73ece2901ec4eabc2b5ea896141305f" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MzAwNjMxMTA5Mw==&amp;mid=212859441&amp;idx=1&amp;sn=d73ece2901ec4eabc2b5ea896141305f</a> - 黑夜路人</p>
<p>11. 微服务实战（三）：深入微服务架构的进程间通信 <a href="http://dockone.io/article/549" target="_blank" rel="external">http://dockone.io/article/549</a> - 不如</p>
<p>12. 构建亿级前端读服务 <a href="http://mp.weixin.qq.com/s?__biz=MjM5NDMwNjMzNA==&amp;mid=207712155&amp;idx=1&amp;sn=8944ec13cc1a0639d844c4466f44c2b6" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MjM5NDMwNjMzNA==&amp;mid=207712155&amp;idx=1&amp;sn=8944ec13cc1a0639d844c4466f44c2b6</a> - 飞翔的尾巴</p>
<p>13. 素数的妙用—一道关于字符串的面试题 <a href="http://m.blog.chinaunix.net/uid-25538637-id-292076.html" target="_blank" rel="external">http://m.blog.chinaunix.net/uid-25538637-id-292076.html</a> - 金灶沐</p>
<p>14. [MySQL优化案例]系列 — slave延迟很大优化方法 <a href="https://mp.weixin.qq.com/s?__biz=MjM5NzAzMTY4NQ==&amp;mid=207299751&amp;idx=1&amp;sn=5d0b6cd66a4f3a848d08d04b354b282d" target="_blank" rel="external">https://mp.weixin.qq.com/s?__biz=MjM5NzAzMTY4NQ==&amp;mid=207299751&amp;idx=1&amp;sn=5d0b6cd66a4f3a848d08d04b354b282d</a> - Klein</p>
<p>15. 10 steps to becoming a better than programmer <a href="http://tutscode.com/10-steps-becoming-better-programmer.html" target="_blank" rel="external">http://tutscode.com/10-steps-becoming-better-programmer.html</a> - xingxing</p>
<p>16. CLI模式下几个实用的PHP函数。 <a href="https://gist.github.com/liuxd/8097014" target="_blank" rel="external">https://gist.github.com/liuxd/8097014</a> - XiangZ</p>
<p>17. The purpose of this site is to help you discover all the changes and new features in PHP7. <a href="http://php7-tutorial.com/#1" target="_blank" rel="external">http://php7-tutorial.com/#1</a> - Albert</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Go语言学习笔记：【Go中字符串小记】]]></title>
      <url>http://www.dyike.com/2015/07/26/go-note-1-2/</url>
      <content type="html"><![CDATA[<p> Go语言中的字符串</p>
<p><strong>字符串是用一对双号(“”)或者单引号(‘’)括起来的定义的，它的类型是srting。</strong></p>
<p>值得注意的是，在go语言中字符串是不可变的，有这样一段代码，编译时会报错。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s <span class="keyword">string</span> = <span class="string">"hello"</span></span><br><span class="line"></span><br><span class="line">s[<span class="number">0</span>] = <span class="string">'c'</span></span><br></pre></td></tr></table></figure>
<p>但是想要修改怎么办呢？方法如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">"hello"</span></span><br><span class="line"></span><br><span class="line">c := []<span class="keyword">byte</span>(s) <span class="comment">// 将字符串 s转换为 []byte类型</span></span><br><span class="line"></span><br><span class="line">c[<span class="number">0</span>] = <span class="string">'c'</span></span><br><span class="line"></span><br><span class="line">s2 := <span class="keyword">string</span>(c) <span class="comment">// 再转换回 string类型</span></span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">"%s\n"</span>, s2)</span><br></pre></td></tr></table></figure>
<p>修改也可以这样：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">"hello"</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">"c"</span> + s[<span class="number">1</span>:] <span class="comment">// 字符串虽不能更改，但可进行切片操作</span></span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">"%s\n"</span>, s)</span><br></pre></td></tr></table></figure>
<p>go中也可声明多行字符串，可以通过`来声明：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">m := hello</span><br><span class="line">world</span><br></pre></td></tr></table></figure>
<hr>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[【转载】06-19怎么学习或者阅读PHP源码？]]></title>
      <url>http://www.dyike.com/2015/06/23/learn-php-source-code/</url>
      <content type="html"><![CDATA[<p>【今日话题】</p>
<p>怎么学习或者阅读PHP源码？ - kdrol.li</p>
<p>1. 学习别人的源代码phpstorm等好用的IDE是必备利器，方便追踪查看 - 杨恒飞</p>
<p>2. 这个源码指的是PHP的C源码吧，首先C基础是必须要掌握的，初学我个人建议先从自己熟悉的扩展开始阅读，比如ext/standard/array.c里面是常用的数组操作函数，ext/mysql下是对mysql原生api的封装，直接阅读Zend内核源码可能有点头大。阅读之前先从网上找点资料，把常见的数据结构、函数、宏的意思搞明白，看底层实现会有种豁然开朗的感觉。工具的话vim+ctags足够了，喜欢IDE的话就Source Insight。 - 马犇</p>
<p>3. php学习方法：如何阅读php源代码</p>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzAwNjMxMTA5Mw==&amp;mid=211794038&amp;idx=1&amp;sn=e0726f5334c5fb703ed1118403a1d8fb#rd" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MzAwNjMxMTA5Mw==&amp;mid=211794038&amp;idx=1&amp;sn=e0726f5334c5fb703ed1118403a1d8fb#rd</a> - 泉-June</p>
<p>4. 网上的文章什么的看一看有个大概的了解。装好好点的能导航的编辑器，我用的sublime和ctags，然后从官方的那几个扩展开始看看别人怎么写的，主要就关注下对字符串，数组，内存，函数的输入输出的处理，然后自己写点处理字符串的扩展学习一下，再后来写点网络相关的，处理下持久化资源什么的。其实也就是你想做个什么事，别人一般都做过了，看看别人扩展怎么写的，那些宏看多了有用的就那么一些。 - lalala</p>
<p>5. <a href="http://www.php-internals.com/" target="_blank" rel="external">http://www.php-internals.com/</a> 把这本书都搞透了就很牛逼了 - 姚文强</p>
<p>6. www.imsiren.com，这个blog学习扩展，lxr.php.net，搜索代码方便</p>
<p>挖路的walu.cc都是很好学习资源</p>
<p>解惑原理当然是鸟哥blog</p>
<p>如果你C玩的溜，那学起来就事半功倍 - 星星</p>
<p>7. 先了解两个结构hashtable和bucket，然后就可以了解各个php_function了，我就看了字符和数组相关函数，本来还想看看类方面的，实在是枯燥，犯困 - 徐刚</p>
<p>8. 只看原理那你能不犯困么？没有正反馈啊，你应该先写个简单扩展出来，然后是问why 你得有性奋点，时不时刺激下才行 为啥喜欢SEX呢，大家琢磨琢磨 - 星星bigxing</p>
<p>9. 对得 要写 然后不懂 再看书 消化 然后继续写。。光看理论。。。会睡着的 第一门语言最好是PYTHON 。。开阔视野~[偷笑] - 小明</p>
<p>10. 写扩展和看php源码还是两码事，不看源码也不影响写扩展呀</p>
<p>写扩展的目的一般是对自身业务的封装，出于性能或是其他因素，写不好是c语言功底的问题，可以学习php源码，也可以从一些更有针对性的来源项目源码去学习，后者更快 - 李鑫</p>
<p>11. 1 要了解php源码项目工程组织架构，确定比较感兴趣的部分</p>
<p>2 c 语言要过关，指针，struct 等知识点，看起来没压力。 - 罗金龙</p>
<p>12. PHP源码能够读懂。其实要有一定的C语言基础的，特别是指针和结构体。</p>
<p>不然，完全像在看天书。完全不知所谓。</p>
<p>先去把C语言结构体搞透，再去看PHP源码。不要越级。</p>
<p>国内有很多好的PHP源码解读的资料。不过有老，是PHP5.3的 - 如末</p>
<p>13. github 上有个tipi 很全面 - Feel.</p>
<p>14. 看源代码的动机是啥呢？觉得高大上？我倒是觉得看php的源码的意义远小于nginx和redis</p>
<p>Nginx的意义在于对网络通讯的理解，redis的代码能加深对数据结构的领悟 - tiyee</p>
<p>回: 萝卜白菜，各有所好呗…</p>
<p>不然里面的各种级别的结构体嵌套，指针里面还有指针的指针，还有指针的指针的指针，各种指针函数相互调用…分分钟就晕，建议带着问题去看，带着自己的思路去看，有针对性的去看。 - carlsonlin</p>
<p>回: 是的，读php源码性价比不如读nginx或者redis - song</p>
<p>回: 还好吧…php源码都看完了，redis和nginx无压力的… - carlsonlin</p>
<p>15. 我是首先把源码编译成debug版本，然后通过gdb tui来读，需要看看结构的时候就p出来 直接读代码的话借助ctags - nothing_zhangbc</p>
<p>16. 最快的方法就是自己动手，php项目庞大，单单看是很低效的</p>
<p>比如从写俄扩展开始</p>
<p>怎么定义一个函数给用户用</p>
<p>怎么定义一个类等等</p>
<p>这个过程中会要用到很多的zend api 从这些api入手就能理解Php是怎么给用户提供各种工具和函数了</p>
<p>至于eebook我之前记得说过它有一个不好的地方是把现象当成了定律</p>
<p>比如refcount refcount只是用来做垃圾回收</p>
<p>不是说一定的代码下refcount就一定是几 只要能保证垃圾回收是几并不重要</p>
<p>所以，少看，多动手 带着问题去研究，会很有意思 over：）</p>
<p>再加一句，PHP7开始，代码变化很大，很多优化的思想在里面，值得一读：）</p>
<p>另外，要搞清楚为啥读源码，是为了学习、学习啥呢？ 如果学习网络编程，那读fpm部分，或者cli部分</p>
<p>如果是共享内存那就opcache部分 之类的</p>
<p>慢慢积累，不是说读PHP的源代码只是为了了解PHP</p>
<p>你读多了、C下面的各种东东就都熟了、那里都用得着的[呲牙]</p>
<p>反正，多读源码是有好处的，无论是是PHP还是其他的项目</p>
<p>我唯一的建议是尽量读c项目 别读c++的 后者太那啥了[偷笑] - 惠新宸</p>
<p>【分享链接】</p>
<p>1. 京东618 ｜ Docker扛大旗，弹性伸缩成重点 <a href="http://mp.weixin.qq.com/s?__biz=MjM5MDE0Mjc4MA==&amp;mid=207702375&amp;idx=1&amp;sn=248f2599f35a9bf6fb3c6aad149fd41d" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MjM5MDE0Mjc4MA==&amp;mid=207702375&amp;idx=1&amp;sn=248f2599f35a9bf6fb3c6aad149fd41d</a> - 黑夜路人</p>
<p>2. 是时候给糟糕的技术面试来场革命了 <a href="http://www.codeceo.com/article/the-terrible-technical-interview.html" target="_blank" rel="external">http://www.codeceo.com/article/the-terrible-technical-interview.html</a> - 马犇</p>
<p>3. 许式伟：十一年逆流顺流，首席架构师到CEO <a href="http://mp.weixin.qq.com/s?__biz=MjM5MjE3NDA1Mw==&amp;mid=201422576&amp;idx=1&amp;sn=909981e0cf0fba99d154f17c56972c41" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MjM5MjE3NDA1Mw==&amp;mid=201422576&amp;idx=1&amp;sn=909981e0cf0fba99d154f17c56972c41</a> - phperzone</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[谈谈“高校毕业生将达749万”的一些感想]]></title>
      <url>http://www.dyike.com/2015/06/20/think-about-graduation/</url>
      <content type="html"><![CDATA[<p>前天看到一个新闻“2015年的高校毕业生将达到749万，留在一线城市的门槛提高了”，看到这个新闻后，我在想就业压力不能用“相当的大”来形容了，而是相当的严峻相当的严峻相当的严峻。</p>
<p>然后又想到了一年后现在的自己可能也会面临这样的问题，必须面临找工作。还记得之前看到过一个规定，就是说留京的应届本科毕业生不能超过24岁，研究生不超过27岁。卧槽，我毕业那年正好24岁，早知道当年不复读了。还记得当时把这个规定分享到微信朋友圈了，然后就有在下面评论说“少年，只要你是一个人才，年龄不是问题，得留住你在北京”。想想自己来到北京求学的这几年，确实看到了一些别人没看到的东西，回去了同学都说我接触的平台、看到的视野跟他们完全不一样。这点我确实也感受到了，每每这样想的时候，自己都很欣慰当年填报志愿的时候选择了北上广。当初对自己的目标就是我读大学就是要走出去看看，看看大城市究竟会有哪些不一样的。大城市，接触的人更多了，什么样的人都有，想要得到成长，需要跟各式各样的三教九流打交道。资源也丰富了，还记得当年刚来北京还办了张首都图书馆的会员卡，虽然没怎么借书，但是觉得只有大城市才会提供这么好的资源。机会相对来说多了，我这里说的是相对，其实竞争压力也是蛮大，因为比我优秀的人太多太多了，说白了自己就算个屁，有的时候连个屁都不算，那你还凭什么去跟别人竞争那一个机会呢？</p>
<p>还是说说毕业生人数吧，先看一张2015年之前的数据你就知道这是一个什么概念。<a href="http://blog.dyike.com/wp-content/uploads/2015/06/p.jpg" target="_blank" rel="external"><img src="http://www.dyike.com/wp-content/uploads/2015/06/p-300x166.jpg" alt="picture"></a></p>
<p>在我读大学后，我更有机会接触到这些数据了，但每年都看到“今年参加高考的人数减少百分之多少”高考的人数逐年减少，有的时候也挺羡慕他们（学弟学妹）感觉他们上大学的机会比我们越来越大，他们毕业时的压力应该没我们现在的压力这么大吧。2015年，自己也有好多同学大学毕业了，他们有的跟我聊，投了好多好多简历，面了好多好多家公司，最后也没有找到工作甚至是自己并不满意的工作。现实就是这么残酷，只有自己比别人更优秀才可能获得更好的机会，机会都是留给准备充分的人。给一年后的自己做准备吧。</p>
<ul>
<li>首先得清楚自己想要干什么，今后没什么特殊的应该是从事互联网相关的工作，主要原因这几年互联网发展确实如火如荼的，就业机会相对要好一点，还有自己大学学的就是这方面的专业，你不从事这个那从事哪个。不浪费时间在选择上，趁早做好选择并为自己的选择做准备。</li>
<li>其次，还有一年的时间，自己可能需要找工作【现在既希望自己能考上研究生，又希望自己考不上研究生】，得了解自己所要面临的工作是什么样的，所要哪些基础的技能，或许要做的就是查漏补缺吧。举个例子，面试哪家公司的工程师，不妨可以根据这家公司的招聘信息的要求认清自己是在一个什么样的水平。还有就是不要再看什么传统的招聘网站，智联前程无忧啥的，海投也没有什么乱用。不妨看看垂直的招聘，多利用好社交网络。找一家正规的公司也是很重要的。</li>
<li>还有，就是不要眼高手低，觉得自己就是要去BAT这样的大公司，不妨选择一个小公司，选择一个优秀的小团队，这样的自己应该更能得到更好的成长。选择了互联网行业，那还是选择大城市北上广深相对发展好点机会多点。</li>
<li>最后说说能力上的吧，自己这一年里应该更好的学好计算机相关的基础知识，像什么操作系统、数据结构、数据库原理等基础课程，掌握好几种计算机编程语言，如C语言、PHP、Golang等等，还有熟练使用一些工具，多阅读英文书籍，提供英文水平。能用Google搜索东西，尽量查找英文类的，为什么这样就不多说了。学会写一个好Email，整好一个站点多写写技术博客，有能力话再折腾个手机App。<br>最后的最后，谈谈关于研究生的事。之前我一直是不赞成考研这个事，但现在我也在准备考研这个事。你就不要问这是什么原因。现在我还是那个观点，考研也不是一个很好的，考研了你就能找到一个好的工作？如果出于为了找工作的话，那真的没有必要考研，如果为了学术研究的，不放试一试。我相信我考研的目的应该跟常人应该不一样。。。。。。不说了，努力一把，还是那句话【既希望考上，又希望考不上】。</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Go语言学习笔记【第三目：内建函数】]]></title>
      <url>http://www.dyike.com/2015/06/19/go-note-3/</url>
      <content type="html"><![CDATA[<h2 id="内建函数"><a href="#内建函数" class="headerlink" title="内建函数"></a><strong>内建函数</strong></h2><p>预定义了少数函数，这意味着无需引用任何包就可以使用它们。下面的表格列出了所有的内建函数。</p>
<p>Table Go中的预定义函数</p>
<table><br><tbody><br><tr><br><td width="138">close</td><br><td width="138">new</td><br><td width="138">panic</td><br><td width="138">complex</td><br></tr><br><tr><br><td width="138">delete</td><br><td width="138">make</td><br><td width="138">recover</td><br><td width="138">real</td><br></tr><br><tr><br><td width="138">len</td><br><td width="138">append</td><br><td width="138">print</td><br><td width="138">imag</td><br></tr><br><tr><br><td width="138">cap copy</td><br><td width="138">println</td><br><td width="138"></td><br><td width="138"></td><br></tr><br></tbody><br></table>

<p>##Close</p>
<pre><code>用于 channel 通讯。使用它来关闭 channel
</code></pre><p>##delete</p>
<pre><code>用于在 map 中删除实例
</code></pre><p>##len 和 cap</p>
<pre><code>可用于不同的类型，len 用于返回字符串、slice 和数组的长度
</code></pre><p>##new</p>
<p>用于各种类型的内存分配</p>
<p>##make</p>
<p>用于内建类型（map、slice 和 channel）的内存分配</p>
<p>##copy</p>
<p>用于复制 slice</p>
<p>##append</p>
<p>用于追加 slice</p>
<p>##panic 和 recover</p>
<p>用于异常处理机制</p>
<p>##print 和 println</p>
<p>是底层打印函数，可以在不引入  fmt 包的情况下使用。它们主要用于调试</p>
<p>##complex、real 和 imag</p>
<p>全部用于处理 复数。有了之前给的简单的例子，不用再进一步讨论复数了</p>
<p>##array、slices 和 map</p>
<p>可以利用 array 在列表中进行多个值的排序，或者使用更加灵活的：slice。字典或哈希 类型同样可以使用，在Go中叫做map</p>
<p>##array</p>
<p>array 由 [n]&lt;type&gt; 定义，n 标示 array 的长度，而 &lt;type&gt; 标示希望存储的内容的类 型。对 array 的元素赋值或索引是由方括号完成的：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr [<span class="number">10</span>] <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">arr[<span class="number">0</span>] = <span class="number">42</span></span><br><span class="line"></span><br><span class="line">arr[<span class="number">1</span>] = <span class="number">13</span></span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">"The first element is %d\n"</span>, arr[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<p>像var arr = [10]int 这样的数组类型有固定的大小。大小是类型的一部分。由于不同的大小是不同的类型，因此不能改变大小。数组同样是值类型的：将一个数组赋值给另一个数组，会复制所有的元素。尤其是当向函数内传递一个数组的时候，它会获 得一个数组的副本，而不是数组的指针。</p>
<p>可以像这样声明一个数组：var a [3]int，如果不使用零来初始化它，则用复合声明： a := [3]int{1, 2, 3} 也可以简写为 a := […]int{1, 2, 3}，Go会自动统计元素的个数。</p>
<p>注意，所有项目必须都指定。因此，如果你使用多维数组，有一些内容你必须录入：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a := [<span class="number">3</span>][<span class="number">2</span>] <span class="keyword">int</span> &#123;  [<span class="number">2</span>] <span class="keyword">int</span> &#123; <span class="number">1</span>,<span class="number">2</span> &#125;, [<span class="number">2</span>] <span class="keyword">int</span> &#123; <span class="number">3</span>,<span class="number">4</span> &#125;, [<span class="number">2</span>] <span class="keyword">int</span> &#123; <span class="number">5</span>,<span class="number">6</span> &#125;  &#125;</span><br></pre></td></tr></table></figure>
<p>类似于：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a := [<span class="number">3</span>][<span class="number">2</span>] <span class="keyword">int</span> &#123;  [...] <span class="keyword">int</span> &#123; <span class="number">1</span>,<span class="number">2</span> &#125;, [...] <span class="keyword">int</span> &#123; <span class="number">3</span>,<span class="number">4</span> &#125;, [...] <span class="keyword">int</span> &#123; <span class="number">5</span>,<span class="number">6</span> &#125;  &#125;</span><br></pre></td></tr></table></figure>
<p>声明一个 array 时，你必须在方括号内输入些内容，数字或者三个点 (…)。</p>
<p>array、slice 和 map 的复合声明变得更加简单。使用复合声明的 array、slice和 map，元素复合声明的类型与外部一致，则可以省略。</p>
<p>这表示上面的例子可以修改为：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a := [<span class="number">3</span>][<span class="number">2</span>] <span class="keyword">int</span> &#123;  &#123; <span class="number">1</span>,<span class="number">2</span> &#125;, &#123; <span class="number">3</span>,<span class="number">4</span> &#125;, &#123; <span class="number">5</span>,<span class="number">6</span> &#125;  &#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>##slice</p>
<p>slice 与 array 接近，但是在新的元素加入的时候可以增加长度。slice 总是指向底层的一个array。slice 是一个指向 array 的指针，这是其与array不同的地方；slice 是引用类型，这意味着当赋值某个 slice 到另外一个变量，两个引用会指向同一个 array。例如，如果一个函数需要一个slice 参数，在其内对slice元素的修改也会体现在函数调用者中，这和传递底层的array指针类似。通过：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sl := <span class="built_in">make</span>([] <span class="keyword">int</span> , <span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<p>创建了一个保存有10个元素的slice。需要注意的是底层的 array 并无不同。slice 总 是与一个固定长度的 array 成对出现。其影响 slice 的容量和长度。</p>
<p>给定一个 array 或者其他 slice，一个新 slice 通过 a[I:J] 的方式创建。这会创建一个 新的 slice，指向变量a，从序号 I 开始，结束在序号 J 之前。长度为 J - I。</p>
<p>// array[n:m] 从 array 创建了一个  slice，具有元素  n 到 m-1</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a := [...] <span class="keyword">int</span> &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> &#125;</span><br><span class="line"></span><br><span class="line">s1 := a[<span class="number">2</span>:<span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">s2 := a[<span class="number">1</span>:<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">s3 := a[:]</span><br><span class="line"></span><br><span class="line">s4 := a[:<span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">s5 := s2[:]</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">2  定义一个 5 个元素的 array，序号从 0 到 4；</span><br><span class="line"></span><br><span class="line">3  从序号 2 至 3 创建 slice，它包含元素 3, 4；</span><br><span class="line"></span><br><span class="line">4  从序号 1 至 4 创建，它包含元素 2, 3, 4, 5；</span><br><span class="line"></span><br><span class="line">5  用 array 中的所有元素创建 slice，这是 a[0:len(a)] 的简化写法；</span><br><span class="line"></span><br><span class="line">6  从序号 0 至 3 创建，这是 a[0:4] 的简化写法，得到 1, 2, 3, 4；</span><br><span class="line"></span><br><span class="line">7  从 slice s2 创建 slice，注意 s5 仍然指向 array a。</span><br></pre></td></tr></table></figure>
<p>函数 append 向 slice s 追加零值或其他 x 值，并且返回追加后的新的、与 s 有相同类型的 slice。如果 s 没有足够的容量存储追加的值，append 分配一 个足够大的、新的 slice 来存放原有 slice 的元素和追加的值。因此，返回 的 slice 可能指向不同的底层 array。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">s0 := [] <span class="keyword">int</span> &#123; <span class="number">0</span>, <span class="number">0</span> &#125;</span><br><span class="line"></span><br><span class="line">s1 := <span class="built_in">append</span>(s0, <span class="number">2</span>) <span class="comment">//0</span></span><br><span class="line"></span><br><span class="line">s2 := <span class="built_in">append</span>(s1, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>) <span class="comment">//1</span></span><br><span class="line"></span><br><span class="line">s3 := <span class="built_in">append</span>(s2, s0...) <span class="comment">//2</span></span><br></pre></td></tr></table></figure>
<hr>
<p>##map</p>
<p>许多语言都内建了类似的类型， 例如 Perl 有哈希， Python 有字典， 而 C++ 同样也 有map（作为库）。在Go中有 map 类型。map 可以认为是一个用字符串做索引的数 组（在其最简单的形式下）。下面定义了 map 类型，用于将 string （月的缩写）转换 为 int – 那个月的天数。一般定义 map 的方法是：map[&lt;from type&gt;]&lt;to type&gt;</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">monthdays := <span class="keyword">map</span>[ <span class="keyword">string</span>] <span class="keyword">int</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="string">"Jan"</span>: <span class="number">31</span>, <span class="string">"Feb"</span>:  <span class="number">28</span>, <span class="string">"Mar"</span>: <span class="number">31</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">"Apr"</span>:<span class="number">30</span>, <span class="string">"May"</span>: <span class="number">31</span>, <span class="string">"Jun"</span>:  <span class="number">30</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">"Jul"</span>:  <span class="number">31</span>, <span class="string">"Aug"</span>: <span class="number">31</span>, <span class="string">"Sep"</span>:  <span class="number">30</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">"Oct"</span>:       <span class="number">31</span>, <span class="string">"Nov"</span>: <span class="number">30</span>, <span class="string">"Dec"</span>:  <span class="number">31</span>,     <span class="comment">//逗号是必须的</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>留意，当只需要声明一个 map 的时候，使用 make 的形式：monthdays := make(map[string]int)</p>
<p>当在map中索引（搜索）时，使用方括号。例如打印出 12 月的天数：fmt.Printf(“%d\n”, monthdays[“Dec”])</p>
<p>当对 array、slice、string 或者 map 循环遍历的时候，range 会帮助你，每次调用，它都会返回一个键和对应的值。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">year := <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> _ , days := <span class="keyword">range</span>  monthdays &#123;    <span class="comment">//键没有使用，因此用 _, days</span></span><br><span class="line"></span><br><span class="line">year += days</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">"Numbers of days in a year: %d\n"</span>, year)</span><br></pre></td></tr></table></figure>
<p>向 map 增加元素，可以这样做：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">monthdays[<span class="string">"Undecim"</span>] = <span class="number">30</span>    <span class="comment">//添加一个月</span></span><br><span class="line"></span><br><span class="line">monthdays[<span class="string">"Feb"</span>]       = <span class="number">29</span>            <span class="comment">// ‰年时重写这个元素</span></span><br></pre></td></tr></table></figure>
<p>检查元素是否存在，可以使用下面的方式 ：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span>  value <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span>  present <span class="keyword">bool</span></span><br><span class="line"></span><br><span class="line">value, present = monthdays[<span class="string">"Jan"</span>]    <span class="comment">//如果存在，present 则有值 true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//或者更接近 Go 的方式</span></span><br><span class="line"></span><br><span class="line">v, ok := monthdays[<span class="string">"Jan"</span>]           <span class="comment">//“逗号 ok”形式</span></span><br></pre></td></tr></table></figure>
<p>也可以从 map 中移除元素：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">delete</span>(monthdays, <span class="string">"Mar"</span>)      <span class="comment">//删除”Mar”  吧，总是下雨的月份</span></span><br></pre></td></tr></table></figure>
<p>通常来说语句 delete(m, x) 会删除 map 中由 m[x] 建立的实例。</p>
<hr>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Go语言学习笔记【第二目：运算符、控制结构】]]></title>
      <url>http://www.dyike.com/2015/06/19/go-note-2/</url>
      <content type="html"><![CDATA[<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a><strong>运算符</strong></h2><p>Go支持普通的数字运算符，下面的表格列出了当前支持的运算符，以及其优先级。它们全部是从左到右结合的。</p>
<p>Table运算优先级</p>
<table><br><tbody><br><tr><br><td width="113">Precedence</td><br><td width="236">Operator(s)</td><br></tr><br><tr><br><td rowspan="6" width="113">Highest&nbsp;<br><br>&nbsp;<br><br>&nbsp;<br><br>&nbsp;<br><br>Lowest</td><br><td width="236"><em>     /     %    &lt;&lt;  &gt;&gt;  &amp;    &amp;^</em></td><br></tr><br><tr><br><td width="236">+     -      | ^</td><br></tr><br><tr><br><td width="236">==  !=   &lt;     &lt;=  &gt;     &gt;=</td><br></tr><br><tr><br><td width="236">&lt;-</td><br></tr><br><tr><br><td width="236">&amp;&amp;</td><br></tr><br><tr><br><td width="236">||</td><br></tr><br></tbody><br></table><br>+ -  / 和 % 会像你期望的那样工作，&amp; | ^ 和 &amp;^ 分别表示位运算符按位与，按位或，按位异或和位清除。&amp;&amp;和||运算符是逻辑与和逻辑或。表格中没有列出的是逻辑非：!。<br><br>虽然Go不支持运算符重载（或者方法重载），而一些内建运算符却支持重载。例如 + 可以用于整数、浮点数、复数和字符串（字符串相加表示串联它们）。<br><br>&nbsp;<br><br><em> </em> <em><br><br>&nbsp;<br><br>## <em>*Go 关键字</em></em><br><br>Table  Go中的关键字<br><table><br><tbody><br><tr><br><td width="111">break</td><br><td width="111">default</td><br><td width="111">func</td><br><td width="111">interface</td><br><td width="111">select</td><br></tr><br><tr><br><td width="111">case</td><br><td width="111">defer</td><br><td width="111">go</td><br><td width="111">map</td><br><td width="111">struct</td><br></tr><br><tr><br><td width="111">chan</td><br><td width="111">else</td><br><td width="111">goto</td><br><td width="111">package</td><br><td width="111">switch</td><br></tr><br><tr><br><td width="111">const</td><br><td width="111">fallthrough</td><br><td width="111">if</td><br><td width="111">range</td><br><td width="111">type</td><br></tr><br><tr><br><td width="111">continue</td><br><td width="111">for</td><br><td width="111">import</td><br><td width="111">return</td><br><td width="111">var</td><br></tr><br></tbody><br></table>

<ul>
<li>func 用于定义函数和方法；</li>
<li>return 用于从函数返回；</li>
<li>go用于并行；</li>
<li>select用于选择不同类型的通讯；</li>
<li>interface；</li>
<li>struct 用于抽象数据类型；<br>&nbsp;</li>
</ul>
<hr>
<p>&nbsp;</p>
<h2 id="控制结构"><a href="#控制结构" class="headerlink" title="控制结构"></a><strong>控制结构</strong></h2><p>在Go中只有很少的几个控制结构。例如这里没有do或者while循环，只有for。有灵活的switch语句和if，而switch接受像for那样可选的初始化语句。还有叫做<strong>类型选择和多路通讯转接器的**</strong> select<strong>。语法有所不同（同 C 相比）： </strong>无需圆括号，而语句体必须总是包含在大括号内。**</p>
<p>if-eles</p>
<p>在 Go 中 if 看起来是这样的：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">i f   x &amp;gt; <span class="number">0</span> &#123;                    <span class="comment">//&#123; 是强制的</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>  y</span><br><span class="line"></span><br><span class="line">&#125;   <span class="keyword">else</span>  &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>  x</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>强制大括号鼓励将简单的 if 语句写在多行上。无论如何，这都是一个很好的形式，尤其是语句体中含有控制语句，例return或者break。</p>
<p>if 和 switch 接受初始化语句，通常用于设置一个（局部）变量。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">i f err := Chmod(<span class="number">0664</span>) ; err != <span class="literal">nil</span> &#123;        ← <span class="literal">nil</span>与C的NULL类似</span><br><span class="line"></span><br><span class="line">fmt.Printf(err)        ← err 的作用域被限定在<span class="keyword">if</span>内</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>  err</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以像通常那样使用逻辑运算符：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">i f  <span class="literal">true</span> &amp;amp;&amp;amp; <span class="literal">true</span>   &#123;</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">"true"</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">i f  ! <span class="literal">false</span> &#123;</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">"true"</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在Go库中，你会发现当一个if语句不会进入下一个语句流程–也就是说，语句体结束于 break，continue，goto或者return–不必要的 else会被省略。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">f, err := os.Open(name, os.O_RDONLY, 0)</span><br><span class="line"></span><br><span class="line">i f err != nil &#123;</span><br><span class="line"></span><br><span class="line">return  err</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">doSomething(f)</span><br></pre></td></tr></table></figure>
<p>这个例子通常用于检测可能的错误序列。成功的流程一直执行到底部使代码很好读，当遇到错误的时候就排除它。这样错误的情况结束于 return 语句，这样就无须else语句。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">f, err := os.Open(name, os.O_RDONLY, 0)</span><br><span class="line"></span><br><span class="line">i f err != nil &#123; return  err</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">d, err := f.Stat()</span><br><span class="line"></span><br><span class="line">i f err != nil &#123; return  err</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>doSomething(f, d)</p>
<p>下面的语法在 Go 中是非法的：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">i f   err != <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line">&#123;                          <span class="comment">//**  ****←****必须同**** if ****在同一行**</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>  err</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<hr>
<h3 id="goto"><a href="#goto" class="headerlink" title="goto"></a><strong>goto</strong></h3><blockquote>
<p>用 goto 跳转到一定是当前函数内定义的标签。例如假设这样一个循环：</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span>  <span class="title">myfunc</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">i := <span class="number">0</span></span><br><span class="line"></span><br><span class="line">Here:         ← 这行的第一个词，以分号结束作为标签</span><br><span class="line"></span><br><span class="line"><span class="built_in">println</span>(i) i++</span><br><span class="line"></span><br><span class="line"><span class="keyword">goto</span>  Here      ← 跳转</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>标签名是大小写敏感的。</p>
<h3 id="for"><a href="#for" class="headerlink" title="for"></a><strong>for</strong></h3><p>Go 的 for 循环有三种形式，只有其中的一种使用分号。</p>
<blockquote>
<p><del><em>for  init ;   condition ;   post {   }      ← 和 C 的 for 一样</em></del></p>
<p><del><em>for  condition {    }              ← 和 while 一样</em></del></p>
<p><del><em>for   {   }                 ← 死循环</em></del></p>
</blockquote>
<p>短声明使得在循环中声明一个序号变量更加容易。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sum := <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>  i := <span class="number">0</span> ;   i &amp;lt; <span class="number">10</span> ;   i++ &#123;</span><br><span class="line"></span><br><span class="line">sum += i              ← sum = sum + i 的简化写法</span><br><span class="line"></span><br><span class="line">&#125;             ← i 实例在循环结束会消失</span><br></pre></td></tr></table></figure>
<p>最后，由于Go没有逗号表达式，而 ++ 和–是语句而不是表达式，如果你想在 for 中 执行多个变量，应当使用平行赋值。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Reverse a</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, j := <span class="number">0</span>, <span class="built_in">len</span>(a)<span class="number">-1</span> ; i &amp;lt; j ; i, j = i+<span class="number">1</span>, j<span class="number">-1</span> &#123;</span><br><span class="line"></span><br><span class="line">a[i], a[j] = a[j], a[i]      ← 平行赋值</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">### **<span class="keyword">break</span> 和 <span class="keyword">continue</span>**</span><br><span class="line"></span><br><span class="line">利用 <span class="keyword">break</span> 可以提前退出循环，<span class="keyword">break</span> 终止当前的循环。</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>  i := <span class="number">0</span> ;   i &amp;lt; <span class="number">10</span> ;   i++ &#123; i f   i &amp;gt; <span class="number">5</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">break</span>   ← 终止这个循环，只打印 <span class="number">0</span> 到 <span class="number">5</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">println</span>(i)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>循环嵌套循环时，可以在break后指定标签。用标签决定哪个循环被终止：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">J:    <span class="keyword">for</span> j := <span class="number">0</span> ;   j &lt; <span class="number">5</span> ;   j++ &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span> ;   i &lt; <span class="number">10</span> ;   i++ &#123;</span><br><span class="line"></span><br><span class="line">i f  i &gt; <span class="number">5</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">break</span>  J    ← 现在终止的是 j 循环，而不是 i 的那个</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">println</span>(i)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>利用continue 让循环进入下一个迭代，而略过剩下的所有代码。下面循环打印了0到 5。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i := <span class="number">0</span> ;  i &lt; <span class="number">10</span> ;   i++ &#123;</span><br><span class="line"></span><br><span class="line">i f  i &gt; <span class="number">5</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">continue</span>      ← 跳过循环中所有的代码<span class="built_in">println</span>(i)</span><br></pre></td></tr></table></figure>
<h3 id="range"><a href="#range" class="headerlink" title="range"></a><strong>range</strong></h3><p><strong>关键字**</strong> range <strong>**可用于循环</strong>。它可以在 slice、array、string、map 和 channel。range是个迭代器，当被调用的时候，从它循环的内容中返回一个键值对。基于不同的内容，range返回不同的东西。</p>
<p>当对slice 或者array做循环时，range 返回序号作为键，这个序号对应的内容作为值。考虑这个代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">list := [] <span class="keyword">string</span> &#123;<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">"d"</span>, <span class="string">"e"</span>, <span class="string">"f"</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>  k, v := <span class="keyword">range</span>  list &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对  k 和  v 做想做的事情</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>1  创建一个字符串的 slice。</p>
<p>2 用range对其进行循环。每一个迭代，range 将返回 int 类型的序号，string类型的值，以0和“a”开始。</p>
<p>3  k 的值为 0…5，而v在循环从“a”…“f”。</p>
<p>也可以在字符串上直接使用range。这样字符串被打散成独立的 Unicode 字符并且 起始位按照 UTF-8 解析。</p>
<p>【在 UTF-8 世界的字符有时被称作 runes。通常，当人们讨论字符时，多数是指 8 位字符。UTF-8 字符可 能会有 32 位，称作 rune。在这个例子里，char 的类型是 rune。】</p>
<p>循环：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> pos, char := <span class="keyword">range</span>  <span class="string">"aΦx"</span> &#123;</span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">"character '%c' starts at byte position %d\n"</span>, char, pos)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>打印</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">character &apos;a&apos; starts at byte position</span><br><span class="line"></span><br><span class="line">character &apos;Φ&apos; starts at byte position</span><br><span class="line"></span><br><span class="line">character &apos;x&apos; starts at byte position      ← Φ took 2 bytes</span><br></pre></td></tr></table></figure>
<h3 id="switch"><a href="#switch" class="headerlink" title="switch"></a><strong>switch</strong></h3><p>Go的switch非常灵活。表达式不必是常量或整数，执行的过程从上至下，直到找到匹 配项，而如果switch没有表达式，它会匹配true 。这产生一种可能——使用switch编写if-else-if-else判断序列。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">unhex</span><span class="params">(c <span class="keyword">byte</span>)</span> <span class="title">byte</span></span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span>  &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span>  <span class="string">'0'</span> &amp;lt;= c &amp;amp;&amp;amp; c &amp;lt;= <span class="string">'9'</span>:</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>  c - <span class="string">'0'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span>  <span class="string">'a'</span> &amp;lt;= c &amp;amp;&amp;amp; c &amp;lt;= <span class="string">'f'</span>:</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>  c - <span class="string">'a'</span> + <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span>  <span class="string">'A'</span> &amp;lt;= c &amp;amp;&amp;amp; c &amp;lt;= <span class="string">'F'</span>:</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>  c - <span class="string">'A'</span> + <span class="number">10</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>  <span class="number">0</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>它不会匹配失败后自动向下尝试，但是可以使用fallthrough 使其这样做。 没有fallthrough：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>  i &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span>  <span class="number">0</span>:         <span class="comment">// 空的  case 体</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span>  <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line">f()       <span class="comment">// 当  i == 0 时，f 不会被调用！</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">而这样：</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span>  i &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span>  <span class="number">0</span>:     <span class="keyword">fallthrough</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span>  <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line">f()     <span class="comment">// 当  i == 0 时，f 会被调用！</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&nbsp;</p>
<p>用default 可以指定当其他所有分支都不匹配的时候的行为。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>  i &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span>  <span class="number">0</span>:</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span>  <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line">f()</span><br><span class="line"></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"></span><br><span class="line">g()         <span class="comment">// 当  i 不等于  0 或  1 时调用</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>分支可以使用逗号分隔的列表。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">func shouldEscape(c byte) bool &#123;</span><br><span class="line"></span><br><span class="line">switch  c &#123;</span><br><span class="line"></span><br><span class="line">case  &apos; &apos;, &apos;?&apos;, &apos;&amp;amp;&apos;, &apos;=&apos;, &apos;#&apos;, &apos;+&apos;:   ← , as ”or”</span><br><span class="line"></span><br><span class="line">return  true</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">return  false</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里有一个使用两个 switch 对字节数组进行比较的例子：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//0</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span>  <span class="title">Compare</span><span class="params">(a, b []<span class="keyword">byte</span>)</span> <span class="title">int</span></span>   &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span> ; i &amp;lt; <span class="built_in">len</span>(a) &amp;amp;&amp;amp; i &amp;lt; <span class="built_in">len</span>(b) ; i++ &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span>  &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span>  a[i] &amp;gt; b[i]:</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>  <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span>  a[i] &amp;lt; b[i]:</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>  <span class="number">-1</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span>   &#123;           <span class="comment">//1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="built_in">len</span>(a) &amp;lt; <span class="built_in">len</span>(b):</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>  <span class="number">-1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="built_in">len</span>(a) &amp;gt; <span class="built_in">len</span>(b):</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>  <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>  <span class="number">0</span>       <span class="comment">//2</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>0  比较返回两个字节数组字典数序先后的整数。</p>
<p>如果 a == b 返回 0，如果 a &lt; b 返回 -1，而如果 a &gt; b 返回+1；</p>
<p>1  长度不同，则不相等；</p>
<p>2  字符串相等。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Go语言学习笔记【第一目：变量、类型和关键字，布尔类型，数字类型...】]]></title>
      <url>http://www.dyike.com/2015/06/18/go-note-1-1/</url>
      <content type="html"><![CDATA[<p><strong>变量、类型和关键字</strong></p>
<p>Go 在语法上有着类 C 的感觉。如果你希望将两个（或更多）语句放在一行书写，它们必须用分号 (’;’) 分隔。<u>一般情况下，你不需要分号。</u></p>
<p>Go 同其他语言不同的地方在于变量的类型在变量名的后面。</p>
<p>不是：int a，而是 a int。</p>
<p>当定义了一个变量，它默认赋值为其类型的 null 值。</p>
<p>在 var a int后，a 的 值为 0。而 var  s string，意味着 s 被赋值为零长度字符串，也就是 “”。</p>
<p>在Go中，声明和赋值是两过程，但是可以连在一起。比较下面作用相同的代码片段。</p>
<p>用 = 声明</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b <span class="keyword">bool</span></span><br><span class="line"></span><br><span class="line">a = <span class="number">15</span></span><br><span class="line"></span><br><span class="line">b = <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>用:= 声明</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a := <span class="number">15</span></span><br><span class="line"></span><br><span class="line">b := <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>在左边使用了关键字 var 声明变量，然后赋值给它。右边的代码使用了 := 使得在一 步内完成了声明和赋值<strong><u>（这一形式只可用在函数内）</u></strong>。在这种情况下，变量的类型是由值推演出来的。值15表示是int 类型，值false告诉Go 它的类型应当是bool。多个var 声明可以成组；const 和import 同样允许这么做。留意圆括号的使用：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span>  (</span><br><span class="line"></span><br><span class="line">x <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">b <span class="keyword">bool</span></span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>有相同类型的多个变量同样可以在一行内完成声明：var x, y int让x和y都是int类型变量。同样可以使用 平行赋值：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a, b := <span class="number">20</span>, <span class="number">16</span></span><br></pre></td></tr></table></figure>
<p>让a和b都是整数变量，并且赋值 20 给 a，16 给 b。</p>
<p>一个特殊的变量名是_（下划线）。任何赋给它的值都被丢弃。在这个例子中，将35赋值给b，同时丢弃34。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_, b := <span class="number">34</span>, <span class="number">35</span></span><br></pre></td></tr></table></figure>
<p>Go 的编译器对声明却未使用的变量在报错。下面的代码会产生这个错误：声明了i却未使用</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span>   main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span>  <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span>  i <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>布尔类型</strong></p>
<p>布尔类型表示由预定义的常量 true 和 false 代表的布尔判定值。布尔类型是 bool。</p>
<hr>
<p><strong>数字类型</strong></p>
<p>Go有众所周知的类型如int，这个类型根据你的硬件决定适当的长度。意味着在32位硬件上，是32位的；在64位硬件上是64位的。</p>
<p>注意：int是32或64位之一，不会定义成其他值。uint情况相同。</p>
<p>如果你希望明确其长度，你可以使用int32或者uint32。完整的整数类型列表（符号和无符号）是 int8，int16，int32，int64 和 byte，uint8，uint16，uint32， uint64。byte 是 uint8 的别名。浮点类型的值有 ﬂoat32 和 ﬂoat64 （没有 float 类 型）。64  位的整数和浮点数总是 64 位的，即便是在 32 位的架构上。</p>
<p>需要留意的是这些类型全部都是独立的，并且混合用这些类型向变量赋值会引起编译 器错误，例如下面的代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>      &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">int</span>           <span class="comment">// 通用整数类型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b <span class="keyword">int32</span>      <span class="comment">// 32 位整数类型</span></span><br><span class="line"></span><br><span class="line">a = <span class="number">15</span></span><br><span class="line"></span><br><span class="line">b = a+ a           <span class="comment">// 混合这些类型是非法的</span></span><br><span class="line"></span><br><span class="line">b = b+ <span class="number">5</span>           <span class="comment">//5 是一个（未定义类型的）常量，所以这没%问题</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在b=a+a触发一个赋值错误：</p>
<p><strong>types.go:7: cannot use a + a (type int) as type int32 in assignment</strong></p>
<p>赋值可以用八进制、十六进制或科学计数法：077，0xFF，1e3 或者 6.022e23 这些都是合法的。</p>
<hr>
<p><strong>常量</strong></p>
<p>常量在Go中，也就是 constant。它们在编译时被创建，只能是数字、字符串或布尔值；const x = 42 生成x这个常量。可以使用iota生成枚举值。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span>  (</span><br><span class="line"></span><br><span class="line">a = <span class="literal">iota</span></span><br><span class="line"></span><br><span class="line">b = <span class="literal">iota</span></span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>第一个iota 表示为 0，因此a等于0，当iota 再次在新的一行使用时，它的值增加了1，因此b的值是1。</p>
<p>也可以像下面这样，省略Go重复的= iota：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span>  (</span><br><span class="line"></span><br><span class="line">a = <span class="literal">iota</span></span><br><span class="line"></span><br><span class="line">b                 <span class="comment">// Implicitly b = iota</span></span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>如果需要，可以明确指定常量的类型：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span>  (</span><br><span class="line"></span><br><span class="line">a = <span class="number">0</span>                      <span class="comment">// Is an int now</span></span><br><span class="line"></span><br><span class="line">b <span class="keyword">string</span>  = <span class="string">"0"</span></span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>字符串</strong></p>
<p>另一个重要的内建类型是string。赋值字符串的例子：</p>
<blockquote>
<p>s := “Hello World !”<br>字符串在Go中是UTF-8的由双引号（”）包裹的字符序列。如果你使用单引号（’）则 表示一个字符（UTF-8 编码）——这种在Go中不是string。</p>
</blockquote>
<p><strong><u>一旦给变量赋值，字符串就不能修改了：在</u>**</strong><u> Go </u><strong>**<u>中字符串是不可变的。</u></strong>从C来的用户， 下面的情况在Go中是非法的。</p>
<p>`var s string = “hello”</p>
<p>s[0] = ‘c’                //修改第一个字符为’c’，这会报错`</p>
<p>在 Go 中实现这个，需要下面的方法：</p>
<p>`s := “hello”</p>
<p>c := []rune(s)</p>
<p>c[0] = ‘c’</p>
<p>s2 := string(c)</p>
<p>fmt.Printf(“%s\n”, s2)`</p>
<p>2转换 s 为 rune 数组；</p>
<p>3修改数组的第一个元素；</p>
<p>4 创建新的字符串 s2 保存修改；</p>
<p>5 用 fmt.Printf 函数输出字符串。</p>
<p><strong>多行字符串</strong></p>
<p>基于分号的置入，你需要小心使用多行字符串。如果这样写：</p>
<p>`s := “Starting part”</p>
<ul>
<li>“Ending part”`</li>
</ul>
<p>会被转换为：</p>
<p>`s := “Starting part” ;</p>
<ul>
<li>“Ending part” ;`</li>
</ul>
<p>这是错误的语法，应当这样写：</p>
<p><code>s := &quot;Starting part&quot; + &quot;Ending part&quot;</code></p>
<p>Go就不会在错误的地方插入分号。另一种方式是使用反引号 ` 作为原始字符串符号：</p>
<p><code>s :=</code>Starting part Ending part``</p>
<p>留意最后一个例子s现在也包含换行。不像转义字符串标识 ，原始字符串标识的值 在引号内的字符是不转义的。</p>
<hr>
<p>&nbsp;</p>
<p><strong>rune</strong></p>
<p>Rune是int32的别名。用UTF-8进行编码。这个类型在什么时候使用呢？例如需要遍 历字符串中的字符。可以循环每个字节（仅在使用 US ASCII 编码字符串时与字符等价， 而它们在 Go 中不存在！）。因此为了获得实际的字符，需要使用 rune 类型。</p>
<p>&nbsp;</p>
<hr>
<p>&nbsp;</p>
<p><strong>复数</strong></p>
<p>Go原生支持复数。它的变量类型是complex128（64位虚数部分）。如果需要小一些的，还有complex64–32位的虚数部分。</p>
<p>复数写为 re + imi，re是实数部分，im是虚数部分，而i是标记 ’i’  (√−1)。使用复数的一个例子：</p>
<p><code>var  c complex64  = 5+5i;fmt.Printf(&quot;Value is: %v&quot;, c)</code></p>
<p>将会打印：(5+5i)</p>
<p>&nbsp;</p>
<hr>
<p>&nbsp;</p>
<p><strong>错误</strong></p>
<p>任何足够大的程序或多或少都会需要使用到错误报告。因此Go有为了错误而存在的内建类型，叫做 error。</p>
<p>var e error 定义了一个error类型的变量e，其的值是nil。这个error 类型是一个接口。</p>
<hr>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[PHPCon2015@北京站第一天简要概述]]></title>
      <url>http://www.dyike.com/2015/06/06/2015-at-phpconf/</url>
      <content type="html"><![CDATA[<p>好久好久不写东西了。好像学生都是最怕写文档的，有的时候连邮件都是写得比较粗糙。写文档也算是一个能力吧。</p>
<p>前些日子在一个群里说这个周末有有一个很牛的技术大会，有空的都要去参与一下。然后我一看确实挺牛的——PHPCon China 2015@Beijing，一看有我熟知的技术大牛是大会的讲师，然后就通过万能的朋友圈求得一张票。既然参加了PHPCon就写的东西总结一下吧，毕竟PHCon在北京也是第一次举办（之前都是在上海办的，今年分了北京站上海站）。</p>
<p>首先说一下，这个PHPCon真是一个“程序员思维的大会”，为什么这么说呢，第一基本都是程序员在讲计算机语言相关的，第二，也是最主要的，就是这个会的时间把控很准很到位。一切都是按照时间流程表走下来的，以前参加什么发布会没一个不推迟时间。也许这就是程序员工程师做事的严谨性。</p>
<p><strong>今天听得最多的一个字就是“坑”……</strong></p>
<p><strong>胡波——《**</strong>Yaf<strong><strong>、</strong></strong>Yar<strong>**扩展在手机微博的应用》</strong></p>
<p>打头炮上场的是新浪微博的@胡波_讲的是《Yaf、Yar扩展在手机微博的应用》分享了这里面的一些经验和一些“坑”，“坑”就是胡波老师首先提出的，因为有“坑”，胡波老师好像一直站在了一个位置没有移动过，更没有走向舞台的中央。可能原因是他认为中央有一个“坑”。【这只是玩笑】</p>
<p>首先介绍了微博客户端与底层平台之间的MAPI接口，可以说是微博最大的流量入口，每天近百亿的点击量，QPS峰值远远超过了50W，然而这里面遇到一个“坑”——面向用户需求REST面向接口解耦合。还有就是历史版本的兼容性，目前的版本是PHP5.4，之前是PHP5.3，为什么没有升级到PHP5.5等高版本？升级就会遇到一些“坑”从5.3到5.4遇到的“坑”相对要少一点。听胡老师说今年等PHP 7发布了会升级到PHP 7。接下来讲了框架的使用……【上图吧】</p>
<p><strong>陈峰卫——《**</strong>PHP<strong>**安全编程》</strong></p>
<p>接下来的第二场，是陈峰卫老师讲了《PHP安全编程》，结合前段时间发生的一连串的网络安全事件，可知网络安全是不可忽视的，但是有的时候这个可能跟业务需求冲突，必须二选一。不管是某某挖掘机干的，不管是什么手残的程序员干的，安全编程是至关重要的，个人觉得这个需要积累，需要测试。</p>
<p>下午第一场是韩天峰老师讲的《PHP的异步并行编程》。等放出视频PPT后可以好好琢磨两下膜拜一下大拿。</p>
<p><strong>李博——《用**</strong>PHP<strong><strong>开发微信</strong></strong>APP<strong>**》</strong></p>
<p>第二场是@这是李博【侯斯特CTO】老师讲的《用PHP开发微信APP》侯斯特是一家微信公众号开发的第三方平台。微信公众号开发还是挺广泛的，主要原因是一个微信公众号可以算是一个轻应用。首先有一个得说明的是不能说“微信就是手机网页浏览器”，根据李博老师说的那样“聊天的App开放了平台就相当于一个‘操作系统’”，所以说微信公众号开发不是一个简单的事。微信公众号开发对认证的账号和没有认证的账号提供的接口不一样，订阅号跟服务号公众号提供的接口也不一样，这样看的话就是四种组合，所以要做一个第三方的平台，是给好多用户使用，微信开发并没有想象中那么简单。</p>
<p>微信公众号开发者中心服务器配置一般为：URL+Token</p>
<ul>
<li>开发者无法确定公众号是否正确配置了URL和Token</li>
<li>无法验证用户提供的AppID和AppSecret</li>
<li>因为需要账号提供AppSecret，无法保证安全</li>
<li>同时根据微信方面确认，这个方式只为开发者进行程序调试，不会提供更多的支持。<br>微信服务请求不能超过5秒，这是什么回事呢？我们平时聊微信时，如果发送一条消息或者语音，如果超过5秒没有发送出去，就会出现一个红色的感叹号。同样在微信公众号中开发：消息回复，对于每一个POST请求，开发者在响应包中返回特定xml结构，对该消息进行响应（现支持回复文本、图文、语音、视频、音乐）。 微信服务器在5秒内收不到响应会断掉连接。</li>
</ul>
<p><strong>保证不超过**</strong>5<strong>**秒</strong></p>
<ul>
<li>采用Gearman做消息服务，分发任务【了解一下Gearman】</li>
<li>只保证回复消息的最小开销</li>
<li><p>对微信消息的接收域名做特殊的超时处理，并定义超时时的错误信息（空串等）<br><strong>保证不超过**</strong>5<strong><strong>秒——</strong></strong>PHP +Nginx**</p>
</li>
<li><p>配置fastcgi_connect_timeout，fastcgi_send_timeout,，fastcgi_read_timeout</p>
</li>
<li>Error_page 504/504.htm;</li>
<li>htm这个文件保持空白（回复空串给微信，这样就不会出现官方提示“公众号暂时无法 提供服务”）【注意，这个只是表面现象，其实并没有保证不超时5秒，这样做只是为了不让微信服务器给提示警报】</li>
<li>PHP脚本会执行完毕，数据不会丢失。可以用超时队列+客服消息处理<br><strong>微信公众号开发中插件相关：</strong></li>
</ul>
<p>传统思路：</p>
<ul>
<li>仿照Worldpress做插件系统，一个插件一个文件，然后include进来</li>
<li>你要知道include进来后是顺序执行的</li>
<li>插件需要用系统的语言来编写，并且要绕过重名和函数……</li>
<li>插件需要部署在一起</li>
<li><p>一旦有fatal error，你懂得……<br>需要改进的是：【新的尝试】</p>
</li>
<li><p>做一个插件就相当于做一个服务，RPC</p>
</li>
<li>可顺序执行可并发执行</li>
<li>插件的编写语言不受限制，都能调用</li>
<li>不怕报错</li>
<li>插件与系统可以跨公网通讯【SAE+开放平台】开发者可以贡献自己的力量<br>……【还有微信同步的问题，授权等问题】</li>
</ul>
<p><strong>最后总结一下这些年踩过坑：</strong></p>
<ul>
<li>群发后微信会推送针对每一个OPENID的发送情况，挤爆了服务器。因为一个账号可能会有几十万的粉丝，一下子收到这么多消息，妥妥地挤爆服务器。</li>
<li>一定要采用公众号AppID作为唯一的公众号标识，否则会重复授权。</li>
<li>微信最近开了图片消息中的图片防盗链，需要特别处理。【我怎么说我转载微信的文章到自己的博客，里面还有图片，结果第二天在博客里看到图片不显示却有一串文字“此图片来自公众号，未经允许不可使用”】</li>
<li>一定要对每一个微信公众号区分域名，例如$APPID$.mp.weixinhost.com【这个很重要，如果不区分，一旦被举报了，微信可能封杀的是weixinhost.com这个域名,因为这个域名上不止有一个微信公众号，那样其他公众号也会跟着受影响】<br>差不多就是这些了。</li>
</ul>
<p>最后是关于创业投融资的演讲。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[【05-20】讨论一下支付系统的功能设计或相关开发经验]]></title>
      <url>http://www.dyike.com/2015/05/20/share-with-pay-dev/</url>
      <content type="html"><![CDATA[<p> 来自黑夜路人技术群讨论分享内容。</p>
<p>【今日话题】</p>
<p>讨论一下支付系统的功能设计或相关开发经验 - darkmi</p>
<p>1. 资金的数据库变更最基础要记得使用事务</p>
<p>然后还有是数据锁问题</p>
<p>比如一个逻辑是用户购买东西</p>
<p>先判断用户余额够不够东西价格，如果够就购买，不够就返回错误</p>
<p>这个时候获取用户余额的时候就要记得对这个用户的资金进行读写锁</p>
<p>然后整个事务结束后解锁</p>
<p>这样才不会有脏数据和重复消费 - 轩脉刃</p>
<p>2. &#x1f633; 性能很差吧 - diwayou@高朋</p>
<p>回: 不会，又不是锁所有用户账户 - 轩脉刃</p>
<p>回: 当账号是一个商家的账号 就会有性能问题 如果是个人用户不会有问题 - diwayou@高朋</p>
<p>回: 好吧，具体场景具体分析了 - 轩脉刃</p>
<p>3. 安全问题要保证！日志要记录好 - 若凡</p>
<p>4. 用户资金流水一定要记录，记录订单号，交易金额，账户资金快照，等信息。 - 丁靖</p>
<p>问: 资金快照是什么？ - lemon…</p>
<p>回: 就是这次交易后，用户帐户上的资金余额. 如果不是这种业务场景，就不需要记录了 - 丁靖</p>
<p>5. 问: 主要是分布式事务咋实现好？xopen的两阶段性能太差 - 张勇</p>
<p>回: 分布式事务不好做啊 如果业务能够接受异步稍微好处理点 如果必需同步 那只能损失性能了</p>
<p>如果做异步 可能需要分步消耗 例如 1.冻结 准备资源 2.真正消耗</p>
<p>冻结资源如何释放可以发起方通知 也可以接受放自己超时释放 - diwayou@高鹏</p>
<p>6. 前一段时间看过支付宝程立之前分享的分布式事务介绍，觉得他们就是自己实现一个事务管理器，事务是业务级别的，每个业务提供tcc操作和提交、回滚。每个数据库都是用的本地事务。</p>
<p>也就是说每个业务自己实现回滚操作。</p>
<p>都是2阶段的事务，还有infoq的微信红包的一个演讲也使用的自己实现的2阶段提交。 - 张勇</p>
<p>7. 自己回滚需要设置好超时时间 最好是主动通知释放 - diwayou@高鹏</p>
<p>8. 微信的<a href="http://www.infoq.com/cn/presentations/mobile-Internet-massive-access-system-design" target="_blank" rel="external">http://www.infoq.com/cn/presentations/mobile-Internet-massive-access-system-design</a></p>
<p>微信红包的 - 张勇</p>
<p>9. 大规模SOA系统中的分布事务处事_程立 <a href="http://wenku[" target="_blank" rel="external">http://wenku[</a> baidu<img src="#94081119" alt="](http://cdncache-a.akamaihd.net/items/it/img/arrow-10x10.png)" title="Click to Continue &gt; by DealExpress">.com/link?url=r6DpwDbFeUG93YX_gpLTlegBirLxu0gst50c50yJ6oYYItSqDn7P1DRtKY5JrYTISCCjalBk6DkE4K-wKVm0VBp8qUUvQVuV1ojoZsTJetC - 张勇</p>
<p>10. 支付去年我做过，主要是用redis 分布锁+mysql 事务。mysql 分库分表，用户之间隔离，互不影响。</p>
<p>每天定时对账，报警。- 天天</p>
<p>11. 能详细点儿不？比如手user1在A库，user2在B库，user1给user2转帐，这种事务怎么处理的？还是不处理靠对账来解决？ - 张勇</p>
<p>回: 首先，我那个系统不涉及用户间交易。如果用户间，涉及到库事务，这个mysql 暂时做不了。你可以看一下redis 实现的一个简单的分布锁，如果跨库更新失败写日志，标记两个锁定。</p>
<p>日志这块也非常重要，恢复，对账大部分靠它。。 - 天天</p>
<p>回: 恩。日志、流水是对账的依据，相当于数据库的redo log，比较重要。 - 张勇</p>
<p>12. 实时到账还是延迟到账？如果是延迟到账 用一个带事务的queue来做 实时到账 两阶段来 - diwayou@高鹏</p>
<p>13. 之前简单问过支付宝的朋友，他们用java 写的分布式事物，很强大。java 也有开源组件。 - 天天</p>
<p>14. 开源的好像都是x/open JTA规范实现的，性能不能保证。- 张勇</p>
<p>15. 问: 分布式事务的原理是什么 - 陈一回</p>
<p>回: 这本书，有试读。<a href="http://item.jd.com/11622772.html" target="_blank" rel="external">http://item.jd.com/11622772.html</a> 里面讲了一些分布式事务的问题</p>
<p>原理的话可以看看两阶段提交和三阶段提交的资料。 - 张勇</p>
<p>16. 实际这个就是业务能接受异步的都争取用异步 要不然性能很难保证 - diwayou@高鹏</p>
<p>17. 这里还有一篇文章：<a href="http://coolshell.cn/articles/10910.html" target="_blank" rel="external">http://coolshell.cn/articles/10910.html</a> (注: 分布式系统的事务处理) - 张勇</p>
<p>18. 人手少做个很痛苦，幸好我们有收盘锁定期，还能补补，不然，一步错，步步错，会被骂死。</p>
<p>做支付老老实实做好测试，别什么敏捷，天天版本的，这不是闹着玩的，我们上线钱前产品临时加了个规则，我们没经验，最后就死在这个规则上。。。 - 天天</p>
<p>19. 问个细节点的问题，金额是怎么存储的？一般是按分存储还是按元来存储？ - darkmi</p>
<p>回: 分 - diwayou@高鹏</p>
<p>回: @diwayou@高鹏  用分是考虑跨项目,跨语言吧. 如果只是php+mysql,mysql用decimal存储,php用bcmath计算小数,结果是正常的 - twin</p>
<p>回: 嗯 用分容易些 如果用小数 各个语言计算都需要特殊处理 - @diwayou@高鹏</p>
<p>20. 支付宝TCC示例 <a href="http://www.docin.com/p-866220638.html" target="_blank" rel="external">http://www.docin.com/p-866220638.html</a> - diwayou@高鹏</p>
<p>21. 支付系统的物理架构大概什么样？我看有很多和银行对接的部分，有很多要求，比如有的是win,有的是linux,需要配ftp,有的还要拉专线</p>
<p>木有支付行业的？ 很想了解啊 - platoli</p>
<p>22. 银行或第三方支付需要与人行对接，人行在两个银行之间，负责资金转发和清算等</p>
<p>行内支付系统，负责准备人行接口需要数据，并且处理往账来账，并给核心记账系统提供记账数据</p>
<p>与人行对接，需要专门支付前置，专门加密等 - 召阳</p>
<p>23. 移动端支付信息一般用oauth加密传输 - 张静小朋友</p>
<p>回: oauth加密是啥？ - 唐毅</p>
<p>回: OAuth 是授权，协议里面包含秘钥验证， - JoJo</p>
<p>【分享链接】</p>
<p>1. MySQL索引原理及慢查询优化 <a href="http://mp.weixin.qq.com/s?__biz=MjM5MDYwMjM3Nw==&amp;mid=203600712&amp;idx=1&amp;sn=055c10be105ee20e564efa067b0f195e" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MjM5MDYwMjM3Nw==&amp;mid=203600712&amp;idx=1&amp;sn=055c10be105ee20e564efa067b0f195e</a> - 黑夜路人</p>
<p>2. PHP中实现异步调用多线程程序代码 <a href="http://mp.weixin.qq.com/s?__biz=MzAwNjMxMTA5Mw==&amp;mid=210157381&amp;idx=1&amp;sn=adb9928e1b9b3ec9c10cb8b064e6ffef" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MzAwNjMxMTA5Mw==&amp;mid=210157381&amp;idx=1&amp;sn=adb9928e1b9b3ec9c10cb8b064e6ffef</a> - 黑夜路人</p>
<p>注: 他说的都是基于io复用 和多线程没有关系 - 惠新宸</p>
<p>3. Google基础设施副总裁：容器是计算的未来 <a href="http://mp.weixin.qq.com/s?__biz=MjM5ODM3MzkyNQ==&amp;mid=214930786&amp;idx=1&amp;sn=8806346868f72b590719e456776e029a" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MjM5ODM3MzkyNQ==&amp;mid=214930786&amp;idx=1&amp;sn=8806346868f72b590719e456776e029a</a> - 黑夜路人</p>
<p>4. Unique Key Generate Server https:/<a href="#32285254" title="Click to Continue &gt; by DealExpress"> github<img src="http://cdncache-a.akamaihd.net/items/it/img/arrow-10x10.png" alt=""></a>.com/liexusong/ukg - 凹凸曼</p>
<p>5. PHP unique ID generator https:/<a href="#11868467" title="Click to Continue &gt; by DealExpress"> github<img src="http://cdncache-a.akamaihd.net/items/it/img/arrow-10x10.png" alt=""></a>.com/liexusong/ukey - 凹凸曼</p>
<p>6. PHP 远程 DoS 漏洞深入分析及防护方案 <a href="http://www.nsfocus.com.cn/report/php_multipart-form-data_remote_dos_vulnerability_analysis_protection.pdf" target="_blank" rel="external">http://www.nsfocus.com.cn/report/php_multipart-form-data_remote_dos_vulnerability_analysis_protection.pdf</a> - 袁峰</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[实用工具 & 服务]]></title>
      <url>http://www.dyike.com/2015/05/13/practical-tools/</url>
      <content type="html"><![CDATA[<h3 id="提供给-开发者，创业者，测试人员，产品经理，项目经理使用的实用工具以及服务。欢迎补充。"><a href="#提供给-开发者，创业者，测试人员，产品经理，项目经理使用的实用工具以及服务。欢迎补充。" class="headerlink" title="提供给 开发者，创业者，测试人员，产品经理，项目经理使用的实用工具以及服务。欢迎补充。"></a>提供给 开发者，创业者，测试人员，产品经理，项目经理使用的实用工具以及服务。欢迎补充。</h3><ol>
<li><h3 id="http-www-testin-cn-免费移动App真机云测试平台"><a href="#http-www-testin-cn-免费移动App真机云测试平台" class="headerlink" title="http://www.testin.cn/ 免费移动App真机云测试平台"></a><a href="http://www.testin.cn/" target="_blank" rel="external">http://www.testin.cn/</a> 免费移动App真机云测试平台</h3></li>
<li><h3 id="http-www-mikecrm-com-免费的信息收集工具"><a href="#http-www-mikecrm-com-免费的信息收集工具" class="headerlink" title="http://www.mikecrm.com/ 免费的信息收集工具"></a><a href="http://www.mikecrm.com/" target="_blank" rel="external">http://www.mikecrm.com/</a> 免费的信息收集工具</h3></li>
<li><h3 id="https-www-jinshuju-net-免费强大的表单设计、数据收集工具"><a href="#https-www-jinshuju-net-免费强大的表单设计、数据收集工具" class="headerlink" title="https://www.jinshuju.net/ 免费强大的表单设计、数据收集工具"></a><a href="https://www.jinshuju.net/" target="_blank" rel="external">https://www.jinshuju.net/</a> 免费强大的表单设计、数据收集工具</h3></li>
<li><h3 id="http-mob-com-sms-免费的短信验证码SDK"><a href="#http-mob-com-sms-免费的短信验证码SDK" class="headerlink" title="http://mob.com/sms 免费的短信验证码SDK"></a><a href="http://mob.com/sms" target="_blank" rel="external">http://mob.com/sms</a> 免费的短信验证码SDK</h3></li>
<li><h3 id="https-meiqia-com-美恰-实时在线的客户服务工具"><a href="#https-meiqia-com-美恰-实时在线的客户服务工具" class="headerlink" title="https://meiqia.com/ 美恰 实时在线的客户服务工具"></a><a href="https://meiqia.com/" target="_blank" rel="external">https://meiqia.com/</a> 美恰 实时在线的客户服务工具</h3></li>
<li><h3 id="http-www-jiathis-com-JiaThis-社会化分享平台"><a href="#http-www-jiathis-com-JiaThis-社会化分享平台" class="headerlink" title="http://www.jiathis.com/ JiaThis 社会化分享平台"></a><a href="http://www.jiathis.com/" target="_blank" rel="external">http://www.jiathis.com/</a> JiaThis 社会化分享平台</h3></li>
<li><h3 id="https-trello-com-Trello-轻量级团队流程协作管理平台"><a href="#https-trello-com-Trello-轻量级团队流程协作管理平台" class="headerlink" title="https://trello.com/ Trello 轻量级团队流程协作管理平台"></a><a href="https://trello.com/" target="_blank" rel="external">https://trello.com/</a> Trello 轻量级团队流程协作管理平台</h3></li>
<li><h3 id="https-modao-io-墨刀-免费在线原型工具"><a href="#https-modao-io-墨刀-免费在线原型工具" class="headerlink" title="https://modao.io/ 墨刀 免费在线原型工具"></a><a href="https://modao.io/" target="_blank" rel="external">https://modao.io/</a> 墨刀 免费在线原型工具</h3></li>
<li><h3 id="https-popapp-in-POP-快速制作可交互纸面原型"><a href="#https-popapp-in-POP-快速制作可交互纸面原型" class="headerlink" title="https://popapp.in/ POP 快速制作可交互纸面原型"></a><a href="https://popapp.in/" target="_blank" rel="external">https://popapp.in/</a> POP 快速制作可交互纸面原型</h3></li>
<li><h3 id="http-www-sojump-com-问卷星-免费调查问卷平台"><a href="#http-www-sojump-com-问卷星-免费调查问卷平台" class="headerlink" title="http://www.sojump.com/ 问卷星 免费调查问卷平台"></a><a href="http://www.sojump.com/" target="_blank" rel="external">http://www.sojump.com/</a> 问卷星 免费调查问卷平台</h3></li>
<li><h3 id="http-fir-im-fir-IM-免费应用发布平台（android、iOS）"><a href="#http-fir-im-fir-IM-免费应用发布平台（android、iOS）" class="headerlink" title="http://fir.im/ fir.IM 免费应用发布平台（android、iOS）"></a><a href="http://fir.im/" target="_blank" rel="external">http://fir.im/</a> fir.IM 免费应用发布平台（android、iOS）</h3></li>
<li><h3 id="http-www-cloud7-com-cn-云起-快速轻应用创建平台（微信公众号、百度直达号）"><a href="#http-www-cloud7-com-cn-云起-快速轻应用创建平台（微信公众号、百度直达号）" class="headerlink" title="http://www.cloud7.com.cn/ 云起 快速轻应用创建平台（微信公众号、百度直达号）"></a><a href="http://www.cloud7.com.cn/" target="_blank" rel="external">http://www.cloud7.com.cn/</a> 云起 快速轻应用创建平台（微信公众号、百度直达号）</h3></li>
<li><h3 id="http-eqxiu-com-易企秀-免费移动场景应用制作"><a href="#http-eqxiu-com-易企秀-免费移动场景应用制作" class="headerlink" title="http://eqxiu.com/ 易企秀 免费移动场景应用制作"></a><a href="http://eqxiu.com/" target="_blank" rel="external">http://eqxiu.com/</a> 易企秀 免费移动场景应用制作</h3></li>
<li><h3 id="http-youzan-com-有赞-免费微店、微商城，完整的微店商解决方案"><a href="#http-youzan-com-有赞-免费微店、微商城，完整的微店商解决方案" class="headerlink" title="http://youzan.com/ 有赞 免费微店、微商城，完整的微店商解决方案"></a><a href="http://youzan.com/" target="_blank" rel="external">http://youzan.com/</a> 有赞 免费微店、微商城，完整的微店商解决方案</h3></li>
<li><h3 id="http-www-eteams-cn-团队、办公协作空间"><a href="#http-www-eteams-cn-团队、办公协作空间" class="headerlink" title="http://www.eteams.cn/团队、办公协作空间"></a><a href="http://www.eteams.cn/" target="_blank" rel="external">http://www.eteams.cn/</a>团队、办公协作空间</h3></li>
<li><h3 id="http-www-duiba-com-cn-兑吧-专业的积分兑换服务平台（提现、话费、抽奖、礼品）"><a href="#http-www-duiba-com-cn-兑吧-专业的积分兑换服务平台（提现、话费、抽奖、礼品）" class="headerlink" title="http://www.duiba.com.cn/ 兑吧 专业的积分兑换服务平台（提现、话费、抽奖、礼品）"></a><a href="http://www.duiba.com.cn/" target="_blank" rel="external">http://www.duiba.com.cn/</a> 兑吧 专业的积分兑换服务平台（提现、话费、抽奖、礼品）</h3></li>
<li><h3 id="http-www-easemob-com-环信-移动IM解决方案"><a href="#http-www-easemob-com-环信-移动IM解决方案" class="headerlink" title="http://www.easemob.com/ 环信 移动IM解决方案"></a><a href="http://www.easemob.com/" target="_blank" rel="external">http://www.easemob.com/</a> 环信 移动IM解决方案</h3></li>
<li><h3 id="https-leancloud-cn-LeanCloud-应用开发一站式解决方案提供商：数据存储、用户管理、消息推送、应用统计、社交分享、实时聊天等服务"><a href="#https-leancloud-cn-LeanCloud-应用开发一站式解决方案提供商：数据存储、用户管理、消息推送、应用统计、社交分享、实时聊天等服务" class="headerlink" title="https://leancloud.cn/ LeanCloud 应用开发一站式解决方案提供商：数据存储、用户管理、消息推送、应用统计、社交分享、实时聊天等服务"></a><a href="https://leancloud.cn/" target="_blank" rel="external">https://leancloud.cn/</a> LeanCloud 应用开发一站式解决方案提供商：数据存储、用户管理、消息推送、应用统计、社交分享、实时聊天等服务</h3></li>
<li><h3 id="http-www-rongcloud-cn-融云-专注为开发者提供-IM-云服务"><a href="#http-www-rongcloud-cn-融云-专注为开发者提供-IM-云服务" class="headerlink" title="http://www.rongcloud.cn/ 融云 专注为开发者提供 IM 云服务"></a><a href="http://www.rongcloud.cn/" target="_blank" rel="external">http://www.rongcloud.cn/</a> 融云 专注为开发者提供 IM 云服务</h3></li>
<li><h3 id="http-chuye-cloud7-com-cn-初页-微信H5海报创作神器"><a href="#http-chuye-cloud7-com-cn-初页-微信H5海报创作神器" class="headerlink" title="http://chuye.cloud7.com.cn/ 初页 微信H5海报创作神器"></a><a href="http://chuye.cloud7.com.cn/" target="_blank" rel="external">http://chuye.cloud7.com.cn/</a> 初页 微信H5海报创作神器</h3></li>
<li><h3 id="http-weixin-drip-im-水滴-轻巧、智能的微信公众号管理平台"><a href="#http-weixin-drip-im-水滴-轻巧、智能的微信公众号管理平台" class="headerlink" title="http://weixin.drip.im/ 水滴 轻巧、智能的微信公众号管理平台"></a><a href="http://weixin.drip.im/" target="_blank" rel="external">http://weixin.drip.im/</a> 水滴 轻巧、智能的微信公众号管理平台</h3></li>
<li><h3 id="http-xiumi-us-秀米-微信公众号排版利器"><a href="#http-xiumi-us-秀米-微信公众号排版利器" class="headerlink" title="http://xiumi.us/ 秀米 微信公众号排版利器"></a><a href="http://xiumi.us/" target="_blank" rel="external">http://xiumi.us/</a> 秀米 微信公众号排版利器</h3></li>
<li><h3 id="https-tower-im-网上办公室：管理项目和团队"><a href="#https-tower-im-网上办公室：管理项目和团队" class="headerlink" title="https://tower.im/ 网上办公室：管理项目和团队"></a><a href="https://tower.im/" target="_blank" rel="external">https://tower.im/</a> 网上办公室：管理项目和团队</h3></li>
<li><h3 id="http-next-36kr-com-发现热门APP"><a href="#http-next-36kr-com-发现热门APP" class="headerlink" title="http://next.36kr.com/ 发现热门APP"></a><a href="http://next.36kr.com/" target="_blank" rel="external">http://next.36kr.com/</a> 发现热门APP</h3></li>
<li><h3 id="http-www-qiniu-com-七牛-提供云存储服务、分发加速、数据处理等服务"><a href="#http-www-qiniu-com-七牛-提供云存储服务、分发加速、数据处理等服务" class="headerlink" title="http://www.qiniu.com/ 七牛 提供云存储服务、分发加速、数据处理等服务"></a><a href="http://www.qiniu.com/" target="_blank" rel="external">http://www.qiniu.com/</a> 七牛 提供云存储服务、分发加速、数据处理等服务</h3></li>
<li><h3 id="http-www-devstore-cn-移动互联网运营解决方案整合平台"><a href="#http-www-devstore-cn-移动互联网运营解决方案整合平台" class="headerlink" title="http://www.devstore.cn/ 移动互联网运营解决方案整合平台"></a><a href="http://www.devstore.cn/" target="_blank" rel="external">http://www.devstore.cn/</a> 移动互联网运营解决方案整合平台</h3></li>
<li><h3 id="https-www-teambition-com-简单、高效的项目协作工具"><a href="#https-www-teambition-com-简单、高效的项目协作工具" class="headerlink" title="https://www.teambition.com/ 简单、高效的项目协作工具"></a><a href="https://www.teambition.com/" target="_blank" rel="external">https://www.teambition.com/</a> 简单、高效的项目协作工具</h3></li>
<li><h3 id="http-www-apicloud-com-“云端一体”的移动应用云服务提供商"><a href="#http-www-apicloud-com-“云端一体”的移动应用云服务提供商" class="headerlink" title="http://www.apicloud.com/ “云端一体”的移动应用云服务提供商"></a><a href="http://www.apicloud.com/" target="_blank" rel="external">http://www.apicloud.com/</a> “云端一体”的移动应用云服务提供商</h3></li>
<li><h3 id="http-www-getui-com-个推-手机消息推送解决方案提供商"><a href="#http-www-getui-com-个推-手机消息推送解决方案提供商" class="headerlink" title="http://www.getui.com/ 个推 手机消息推送解决方案提供商"></a><a href="http://www.getui.com/" target="_blank" rel="external">http://www.getui.com/</a> 个推 手机消息推送解决方案提供商</h3></li>
<li><h3 id="https-pingxx-com-Ping-是为移动端量身打造的下一代支付系统，简单接入，多种支付渠道。"><a href="#https-pingxx-com-Ping-是为移动端量身打造的下一代支付系统，简单接入，多种支付渠道。" class="headerlink" title="https://pingxx.com/ Ping++是为移动端量身打造的下一代支付系统，简单接入，多种支付渠道。"></a><a href="https://pingxx.com/" target="_blank" rel="external">https://pingxx.com/</a> Ping++是为移动端量身打造的下一代支付系统，简单接入，多种支付渠道。</h3></li>
<li><h3 id="http-apistore-baidu-com-为开发者提供最全面的API服务"><a href="#http-apistore-baidu-com-为开发者提供最全面的API服务" class="headerlink" title="http://apistore.baidu.com/ 为开发者提供最全面的API服务"></a><a href="http://apistore.baidu.com/" target="_blank" rel="external">http://apistore.baidu.com/</a> 为开发者提供最全面的API服务</h3></li>
<li><h3 id="http-samllpdf-com-cn-针对PDF问题解决方案"><a href="#http-samllpdf-com-cn-针对PDF问题解决方案" class="headerlink" title="http://samllpdf.com/cn/ 针对PDF问题解决方案"></a><a href="http://samllpdf.com/cn/" target="_blank" rel="external">http://samllpdf.com/cn/</a> 针对PDF问题解决方案</h3></li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[像算法,数据结构在实际开发中使用得多吗?有哪些使用例子?]]></title>
      <url>http://www.dyike.com/2015/05/12/share-with-algorithm/</url>
      <content type="html"><![CDATA[<p>内容来自【黑夜路人技术讨论群】</p>
<p>【今日话题】</p>
<p>像算法,数据结构在实际开发中使用得多吗?有哪些使用例子? - young－chen</p>
<p>1. 貌似用得不多。基本的排序二分查找倒是用过。 我觉得用得多不多和技术方向有关系 - xiayf</p>
<p>2. 处理数据的算法用得多～处理逻辑的算法相对少～数据结构几乎所有的地方都用的到～ - xingxing</p>
<p>3. 用过LRU和MRU - darkmi</p>
<p>4. lockless的方法不少 - Ragnarok</p>
<p>5. 好高级，这些也只能在了解原理的时候去看看。。实际业务中也就是拿来主义 - tywei</p>
<p>6. 二分法在排序中用的很多，然后还有Tire树，另外TOP K的应用场景也比较多 - 青衫隐_刘</p>
<p>7. Redis里都是数据结构 - 菜包子</p>
<p>8. 实际工作里的算法应用挺多的</p>
<p>我们天天生活在各种数据结构算法构建好的世界里</p>
<p>我们每天用的linux，我们在上面执行各种命令，比如找文件建目录，我们启动各种服务，我们写各种程序来跑。</p>
<p>比如创建文件，调用的各种文件系统调用（open/write/read），系统调用下面是VFS(虚拟文件系统)，下面是各种具体的文件系统，比如ext3/xfs/zfs之类，而这些文件系统会通过硬盘驱动访问硬盘，硬盘机械把数据固化在盘片上。</p>
<p>文件系统如何管理这些文件在磁盘上，方便建立文件删除文件回收空间等，就需要很多文件系统管理算法。 - 黑夜路人</p>
<p>9. 求助：php无限分类，如何查询某个大分类下的所有子分类，</p>
<p>场景：a,b,c,d 为一级分类；a1,a2,a3,a4为a下的子分类；a11,a12,a13,a14为a1下的子分类</p>
<p>问题：当查询a下所有文章时候，需要对a分类下，所有子分类的id集合，然后sql 用 where in（）；求高效的算法 - 竹子</p>
<p>回: php就是递归 - 淘小淘</p>
<p>回: 竹子，就是无限递归呗，而且你不是无限的（说是无限），还是能够搞定。 - 黑夜路人</p>
<p>10. 我们用的linux还帮我们管理cpu资源，核心就是让哪个进程访问cpu其他的进程等着，这就涉及到进程调度算法，写的坏的算法就杯具了。现在是多核时代，这个管理算法要求又更高。</p>
<p>我们自己用linux写一个自己的程序，我们malloc/free自己申请释放内存，涉及到操作系统针对内存管理算法。大块内容管理，内存释放，空闲内存回收等等，很多策略，又诞生了很多内存管理算法。比如著名的glbc自带的ptmalloc，还有流行的 tcmalloc ，jemalloc 等内存管理算法库。</p>
<p>在内存管理方向，我们诞生了很多不止是操作系统的管理算法，应用层也出了很多应用，比如我们知道的memcached/redis/aerospike等。memcached内存管理算法就是slab-class机制，redis的内存处理就更丰富一些。 - 黑夜路人</p>
<p>11. 除了高大上的操作系统，我们日常程序或者使用的各种工具里很多算法实现。</p>
<p>我们用strings查找符号表，用sed/awk使用正则来查找过滤文件字符串等等，都需要常规的字符串算法，比如查找子串，比如状态机，比如词法分析等。 - 黑夜路人</p>
<p>12. 除了工具，我们每天接触的常用软件，比如php/nginx/mysql等，哪个都是基本数据结构算法环绕。</p>
<p>php引擎内置各种算法，比如zend vm的词法语法分析；数组的内部实现，用的是hashtable+linklist；内存管理垃圾回收机制等。</p>
<p>nginx的连接处理分配算法；定时器实现算法；内存管理算法；自己的锁算法等。</p>
<p>mysql的查询sql解析；查询优化算法；文件索引存储算法；内存缓存管理算法……</p>
<p>凡此种种，我们不是生活在一个基本算法环绕的技术世界。支撑我们每时每刻的技术工作和生活所需：你家的电视跑着安卓，你家的无线路由器跑着openwrt，你的手机跑着安卓/ios，你的洗衣机跑着51单片机，你的冰箱跑着vmworks……</p>
<p>算法环绕的世界！ - 黑夜路人</p>
<p>13. memcached做集群时候，一致性hash算法，flexihash 这个应该用的比较多 说到memcached，那就要说它的内存分配算法，slab 哈，php，里面也有个hashtable啊 - 星星bigxing</p>
<p>14. 我用过的，bloom filter，线段树，后缀数组，树状数组，倒排索引，伸展树 - 廖强</p>
<p>15. 布隆过滤器，上面说的数组用过 - BE GEEK</p>
<p>16. hyperloglog. map. twin cache 這算設計模式了 - timedcy</p>
<p>17. 抽奖算法 用过一次 不过是代码的搬运工 人家写的. php几个常用的概率算法（抽奖、广告首选） <a href="http://old.idler365.com/blog/PHP/111.html" target="_blank" rel="external">http://old.idler365.com/blog/PHP/111.html</a> - 周渊</p>
<p>回: 抽奖算法 是随机过程+排序算法 看随机数落在哪个区间 - 苹果</p>
<p>回: 我手游的抽卡系统，我都是算法二 - JoJo</p>
<p>【分享链接】</p>
<p>1. 大话同步/异步、阻塞/非阻塞 <a href="http://mp.weixin.qq.com/s?__biz=MzA4MDgxNTM3NA==&amp;mid=205342017&amp;idx=2&amp;sn=c4a035caecd1711df6ff8b0b374401b2" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MzA4MDgxNTM3NA==&amp;mid=205342017&amp;idx=2&amp;sn=c4a035caecd1711df6ff8b0b374401b2</a> - @理鱼</p>
<p>2. dot 加graphviz 画流程图 <a href="http://zh.wikipedia.org/zh-cn/DOT%E8%AF%AD%E8%A8%80" target="_blank" rel="external">http://zh.wikipedia.org/zh-cn/DOT%E8%AF%AD%E8%A8%80</a> - 弹痕</p>
<p>3. 恐怖！全球首款6TB固态硬盘来袭 <a href="http://mp.weixin.qq.com/s?__biz=MTE3MzE4MTAyMQ==&amp;mid=206391798&amp;idx=3&amp;sn=a94d018ee78a35af55de8000f207367c" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MTE3MzE4MTAyMQ==&amp;mid=206391798&amp;idx=3&amp;sn=a94d018ee78a35af55de8000f207367c</a> - 黑夜路人</p>
<p>4. 搭建 ngrok 服务实现内网穿透 <a href="http://www.tuicool.com/wx/vmERjeI" target="_blank" rel="external">http://www.tuicool.com/wx/vmERjeI</a> - 黑夜路人</p>
<p>5. 《我要上头条》第三期：Beego 作者 Asta <a href="http://mp.weixin.qq.com/s?__biz=MjM5MzA0ODkyMA==&amp;mid=208770698&amp;idx=1&amp;sn=b08ede5d3f58960e3ac4e2d420c3da28" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MjM5MzA0ODkyMA==&amp;mid=208770698&amp;idx=1&amp;sn=b08ede5d3f58960e3ac4e2d420c3da28</a> - Asta Xie</p>
<p>6. PHP Hash比较存在缺陷，影响大量Web网站登录认证、忘记密码等关键业务 <a href="http://mp.weixin.qq.com/s?__biz=MjM5MTA5NjUxMQ==&amp;mid=207079091&amp;idx=1&amp;sn=fbd70cfc628c48ae415b0552d12cba88" target="_blank" rel="external">http://mp.weixin.qq.com/s?__biz=MjM5MTA5NjUxMQ==&amp;mid=207079091&amp;idx=1&amp;sn=fbd70cfc628c48ae415b0552d12cba88</a> - 黑夜路人</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[配与不配]]></title>
      <url>http://www.dyike.com/2013/12/16/fit-and-unfit/</url>
      <content type="html"><![CDATA[<p>当我们谈到男女问题时，自然而然地谈到配与不配。</p>
<p>生活中有好多人表白被拒绝过。为什么呢？因为现在的女生都很作的。哈哈，开玩笑的。</p>
<p>其实在生活中和在爱情中，我们又好多东西都是相同的。比如说女朋友的生日和wifi的密码有个共同点，你要是没有个手机，你根本记不住。此外，我听说很多人找对象有各种标准，当然了我也有各种标准。说到相配的问题，两个人在一起谈恋爱是不是相配？我们有很多标准去衡量，比如说我们说的年龄、长相、体重，还有什么社会地位、家世，然后还有什么经济能力，受教育程度。我想说的上面说的这几种都不是问题，真的都不是问题。只要两颗心相爱就可以了，那最大的问题是什么呢？我觉得是身高，两个人的身高相差过大的话，对男的一方真的可不好，有可能会有生命危险，比如说武大郎。那身高在什么比例内才是正常的呢？我觉得自己觉得看着行就行，也不一定非要男比女高，自己看着觉得相配就ok。人呐有的时候需要做一些与身份相配的事，有句俗话叫“屁股决定大脑”，到了什么阶段什么位置就要思考什么样的问题，跟身份相配特别种重要。</p>
<p>生活中还有很多奇怪的搭配，我们在看网络视频，一定会搭配一些广告，在这里我说一句吧，互联网赚钱需要广告，但是要改一下广告赚钱的模式。这些搭配的广告，会很多奇怪的搭配。有的时候会看到一些广告与视频内容很不相关，甚至是相反的一面。比如看《1942》开头的广告是什么豪华午餐只要15元，然后一转，就是1942年，……。说到看片，我们很多人会在网上追美剧，看美剧我们就要感谢一批人——字幕组。在此我向字幕组做出了巨大贡献说一声谢谢！但是字幕组有字幕组的问题，在一些美剧中，字幕组会根据个人的兴趣加入一些恶搞的字幕，放点笑点进去，我觉得这样是不对的。因为你是一个翻译者， 你要保证这些故事情节要平稳的翻译过来。因为a school of people等着追美剧而来提高自己的英语水平，但是你也可以不用考虑我们，也要考虑一些外国朋友，人家是靠看美剧来学习汉语的。一个老外在中国看美剧，带着浓浓的乡思之情看美剧，感受着自己的文化，学着汉语，看着字幕组给配的字幕，还自信地认为自己的汉语已经学得不错了。</p>
<p>小时候，我们有一个地方我们非常不愿意去，而且去了相当不配合，这个地方就是医院。小孩子都是怕打针的，到了医院多数是打针，有的小孩看到针头，一瞬间就哭了。说实话 ，我还是比较勇敢的，我去打针见到医生就是把袖子往上一捋，把胳膊抬给他，很孤傲的看着他，无论怎样，我会不吭一声的。然后医生说，你别闹了。小的时候，由于自己不懂事，我看到医生就特别痛恨他们就骂他们，现在想想感觉特别不对。</p>
<p>你跟我配，我跟谁配呢？</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[关于孤独]]></title>
      <url>http://www.dyike.com/2013/12/11/talk-about-lonely/</url>
      <content type="html"><![CDATA[<p>现在的这个社会，现在的生活中，很多人是孤独的。</p>
<p>男人，可能因为繁重的工作，而承受着很大的压力，从而不敢说出来，内心他是孤独的。</p>
<p>女人，可能因为懂她的事越来越少，再加之男人的繁忙，所以就变得空虚寂寞，内心也是孤独的。</p>
<p>小孩，由于父母都忙于自己的工作事业，从而在一起的时间很少很少。</p>
<p>老人，因为互联网快速的发展，他们懂得东西越来越少，什么超级电视，可穿戴设备等等，他们都不知道的。</p>
<p>其实，显而易见的是我们这一代人的童年与现阶段的孩子童年所接触的东西就是完全不一样。</p>
<p>写这个之前我用度娘百度了一下，查了一下，度娘是这样说的：</p>
<blockquote>
<p>孤独并非是在自己心情压抑，或是失恋的时候出现的，那种感觉只是空虚和寂寞，称不上是孤独。孤独 是一种状态 ，是一种圆融的状态 ，真正的孤独是高贵的，孤独者都是思想者，当一个人孤独的时候，他的思想是自由的，他面对的是真正的自己，人类的思想一切都源与此处。孤独者， 不管他处于什么样的环境他都能让自己安静，他都能自得其乐。<br>看了上面度娘的结果又查了一下，空虚寂寞的定义：<br>空虚是指百无聊赖、闲散寂寞的消极心态。即人们常说的“没劲”，是心理不充实的表现。<br>可是关于“寂寞”度娘还真没有查到，嘿，我可不抱怨度娘，更不会拿这个吐槽度娘。后来我也尝试过</p>
</blockquote>
<p>总之，看到上面百度的结果是不是感觉这个“孤独”要比这个“空虚寂寞”好多了。如果真的像上面说的那样去判别的话，那我们的生活真是太孤独了。个人觉得“孤独”与“空虚寂寞”是两个概念，但是有的时候“空虚寂寞”是“孤独的”一个部分（不是笼统地概括，注意有的时候）。今天我这里说的“孤独”就是这个有的时候。嘿嘿。</p>
<p>有的时候，我确实也很感到孤独，不是我身边没有朋友，外在的表现不是独身一人。可以说，至少缺少一个在那个时间段中让我信任的朋友，自然而然我说不出我内心最想说的话。永远的永远放在心底，时间长了，可以看出这样的孤独对我的成长还是很有帮助的。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[内心的独白]]></title>
      <url>http://www.dyike.com/2013/11/18/heart-os/</url>
      <content type="html"><![CDATA[<p>前言：本来答应大家的是周末给大家分享一篇文章，可是总有一些琐碎的事，让我的时间一点一点地从我身边流逝，我内心真的很心痛啊。想了很久，不知道写些什么跟大家分享。我的语文高考也就考85（总分160），但我还是努力地写，用心地去交流。这文章我写了两个小时，修改了半个小时。</p>
<hr>
<p><strong>关于自己</strong></p>
<p>作为一个典型的天蝎男，身上确实表现出了很多天蝎男不为人知的性格特点，或显性或隐性。天蝎的人给人的感觉就是冰冷的感觉，这个我有的时候我不得不同意，因为别人都这样认为，其实也没必要争论自己是一个什么样的人，做好自己就OK了。但有一点我不得不说的是，有些事天蝎男还是非常用心地去做。我习惯仔细的观察生活的一切，人和事必须包括在内。</p>
<p>由于自己平时在生活太过多的关注一些人，一些人的做事方式，所以我确实看不惯一些人的做事方式。而我这个人的最大的弱点就是太直接太露骨了，一点儿都不知道含蓄地表现我想表现的东西。这样导致的结果就是我成为那么一些人的讨厌的对象，其实我也无所谓，你讨厌我也好，欢喜我也好。我只是在做我自己，干嘛考虑一些其他与自己无相关人的感受。我时常告诫自己，远离那些傻×，努力地做好自己！在生活中，你接近了那些傻×，然后他们把你拉到他那个层次上，结果他就可以用他丰富的经验把你给秒杀了。所以远离那些傻×还是重要的。</p>
<p><strong>关于修炼</strong></p>
<p>我也不知道自己是怎样修炼自己的，最起码我会努力地读书。说到这个我还不得不感谢一个曾经喜欢的女生，嘿嘿，也没有什么，就是想到了与我写的东西有那么一点关系，所以就可以顺便感谢一下人家。我原本不是很喜欢用微信，微信刚刚出来的那个时候用过，感觉是一个很烂的产品，于是乎就放弃了。由于她用微信所以也就习惯了微信。哈哈，未必啊，其实微信这个产品是越做越好，更多的地方吸引我去用微信。后来也不知道什么时候微信上有了微信公众账号，自然而然的开始关注一些自己感兴趣的东西，学会怎样读书，怎样对待生活……可能你会认为这是一个不靠谱的途径，至少我认为我关注的这些东西对我来说是非常有用的。看到微信上推荐了几本书，于是最近去了几次图书馆，可喜可悲。可喜的是竟然如此小的图书馆能够找到了我想看的两本书，可悲的是最普通不过的书也没有。不管怎样，先逮到了这两本书，就先看着吧。最近看的两本是凯文凯利的《失控》、《科技想要什么》。才刚刚看了一点点《失控》，开始的时候KK就在写自然生物之类还有蜜蜂，我看到的就是自然生物的伟大，就连一个小小的蜜蜂也有自己的超人类的智慧，我开始感叹自然的伟大，自然给予人类一切，一直以来都是用自己的血肉供养着我们人类，为什么现在的人类还要破坏我们赖以生存的家园呢?至于这个问题，我以前是真的没有认真地想过。也许是我们人类都变得更加贪婪了？人都变得很自私了？有的时候，我也很认真很严肃的告诉自己，我不能太慷慨。别人都很自私，我这样做，是不是很傻啊？当想到这个的时候，我都会拿“俞敏洪帮室友打了四年的水”这个例子来安慰自己。当然我也不会一味的模仿他啦。我内心深处坚信“付出一定是有回报的”当然回报不会立马实现，过早的回报未必是好事。</p>
<p>我习惯了装傻，习惯了别人的嘲笑，我已经学会了将别人的嘲笑化为动力！读书至少有一个好处就是不会让我变得愚钝（我读的是好书），多明白一些道理肯定没有错！！！</p>
<p><strong>关于坚持</strong></p>
<p>坚持——我特地百度了一下。百度百科是这样说的：“坚持也有两意，现代汉语词典中解释为：坚决保持、维护或进行；坚持是意志力的完美表现。坚持常常是成功的代名词。”每当听到别人说某某成功了，我们的第一反应是人家怎样坚持的，度过了困难，最后达到了现在的成功。如果我面对这样的情况，还这样想的话，我一定会认为自己是个傻 逼。为什么我自己不想想自己应该怎样坚持。</p>
<p>有这样一个真实的例子，那是11年我高考结束的第二个晚上也就是6月9号晚上跟我的英语老师一起吃饭。吃饭的时候老师跟我们几个同学开了一个玩笑，说大学了要带个女朋友给她看看。老师说现在她的老公以前追了她10年，也就是坚持了10年（高中4年，大学4年，工作了还在坚持）最后两个人还是幸福地走到了一起。不难可以看见，人家复读了还不忘继续追自己喜欢的女生。这就叫坚持。哈哈，当时还真没想过我参加了高考就一定上了大学，后来确实没有上大学，坚持自己的选择——复读。</p>
<p>上面我讲的这个例子，有两种坚持——一种是对爱情的坚持，另一种是对求知的坚持。这两种坚持确实很高尚很伟大。对于第一种坚持，我那是在心底无比地佩服。确实成为我心中的偶像！对于这个爱情，我尝试过坚持，最后的最后还是不由自主地放弃了坚持。<strong>【祝她永远幸福！！！】</strong>感觉自己没有那个勇气去坚持，这种坚持对我来说真的太难了。我想坚持需要足够厚的脸皮，我真的但愿坚持需要这样的条件——脸皮厚！后一种坚持是最常见不过的坚持，有句话说的好“坚持就是胜利”。我坚持的最后未必是成功，但至少是一种胜利，暂时的胜利，我要做的还是坚持再坚持。后来上大学了我有了更多的时间，所以就经常锻炼，我的锻炼也非常简单就是每天跑步操场十圈。差不多坚持了三个月，后来后来就没有坚持下去，说实话这现在的体质肯定没有那个坚持跑步的时候的体质好。</p>
<p>坚持，是一种美好的品德，是一种积极的姿态！你做好坚持的准备了吗？</p>
<hr>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[我的几次选择]]></title>
      <url>http://www.dyike.com/2013/01/02/about-my-choices/</url>
      <content type="html"><![CDATA[<p>2008年，那年我读初三，参加中考，面临人生中的第一次选择——哪一所高中。那年暑假，是失落的，中考分数724，与我理想的高中相差21分，身边的好同学都去了四星级高中，而自己却去了一所三星级，还上了学校的实验班。那时候，对自己说的一句话是，宁做鸡头不做凤尾。</p>
<p>那年暑假，还有奥运会，那个时候第一次认识到自己与别人的差距还是蛮大的，那个时候知道选择城里跟镇上还是有区别的，事实上我是选择的城里，蛮好的。后来认识那么多同学，兄弟，还有对我特别好的老师，都挺好的。一切都是选择的安排。</p>
<p>2009年，年初，也就是高一上学期期末的时候，那一次的考试，算是高中以来参加的一次最正式的考试，从考试的形式来看，还算是我人生中的最正规的一次，连中考都没有那种规模，那次考试的结果很糟糕，我记不清了，只知道那个成绩有点不敢面对父母。不管怎样，那一次也要面临一次选择：分文理科。那个时候坚定地选择了理科，学习物理生物，化学成为会考科目。</p>
<p>2011年，那年高三，人生中最重要的考试，高考，上大学。查知分数的那一刻，知道自己多么的lose，分数总是相差那么一点儿，主要还是自己的不够努力，那个时候不知道该怎么去选择，身边的朋友安慰我，那个时候自己已经看得很自然了。后来选择了复读。</p>
<p>2012年，经过一年的复读，又参加了一次高考，很明显这一次不那么紧张与焦虑了，因为不是第一次了。分数还没有出来我就知道，结果会是太好，但也不至于是多么差，毕竟自己也努力过，后来分数出来了，还算一般，至少父母满意了，我自己满意了，因为自己就努力了那么一点，这成绩是应该的。</p>
<p>2012年，高考完，分数出来要填志愿了，又要选择了，选择去哪儿上学，读什么样的专业。起初，自己填的都是南方的一些学校，在确认志愿的前天晚上又被我全部改了，填的都是北方的学校，没想到还是有点背，失误了，最后来到这样的的学校，有时候也有点后悔，既然选择了，就没什么后悔的，是不是。那时候知道自己上大学要去北上广，出去见见世面。所以来了北京，至于什么专业，自己选择与计算机相关的，虽说不是自己理想的专业，不过大学嘛，本来就需要靠自己。</p>
<p>下一次选择，会是在什么时候，选择什么？也许是我大三的时候，选择要不要考研？大四的时候，选择去哪儿工作，选择做什么样的事情？也许，明天就需要选择。不管怎样，每一次选择，都让自己慎重一下，让自己无悔就行。</p>
]]></content>
    </entry>
    
  
  
</search>
